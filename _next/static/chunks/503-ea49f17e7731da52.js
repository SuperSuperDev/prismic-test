(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{8030:function(e,t,r){"use strict";var n,o;r.r(t),r.d(t,{DataContext:function(){return S},DataCtxReader:function(){return F},DataProvider:function(){return R},PageParamsProvider:function(){return L},PlasmicCanvasContext:function(){return m},PlasmicCanvasHost:function(){return w},applySelector:function(){return C},mkMetaName:function(){return E},mkMetaValue:function(){return k},registerComponent:function(){return U},registerGlobalContext:function(){return M},registerTrait:function(){return B},repeatedElement:function(){return Z},unstable_registerFetcher:function(){return T},useDataEnv:function(){return P},usePlasmicCanvasContext:function(){return g},useSelector:function(){return A},useSelectors:function(){return I}});var a=r(7294),i=r(3935);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f=globalThis;null==f.__PlasmicHostVersion&&(f.__PlasmicHostVersion="2");var d=[],p=new function(e){var t=this;this.value=e,this.set=function(e){t.value=e,d.forEach((function(e){return e()}))},this.get=function(){return t.value}}(null);function h(){return function(e,t){if(void 0===t&&(t=""),null===e||void 0===e)throw t=(function(e){return"string"===typeof e}(t)?t:t())||"",new Error("Value must not be undefined or null"+(t?"- "+t:""));return e}(new URL("https://fakeurl/"+location.hash.replace(/#/,"?")).searchParams.get("origin"),"Missing information from Plasmic window.")}var y=0;function v(e){y++,p.set(e)}var m=(0,a.createContext)(!1),g=function(){return(0,a.useContext)(m)};function b(){var e,t,r=!!window.parent,n=!(null==(e=location.hash)||!e.match(/\bcanvas=true\b/)),o=!(null==(t=location.hash)||!t.match(/\blive=true\b/))||!r,u=r&&!document.querySelector("#plasmic-studio-tag")&&!n&&!o,c=function(){var e=(0,a.useState)(0)[1];return(0,a.useCallback)((function(){e((function(e){return e+1}))}),[])}();if((0,a.useLayoutEffect)((function(){return d.push(c),function(){var e=d.indexOf(c);e>=0&&d.splice(e,1)}}),[c]),(0,a.useEffect)((function(){u&&r&&window.parent!==window&&function(){var e=document.createElement("script"),t=h();e.src=t+"/static/js/studio.js",document.body.appendChild(e)}()}),[u,r]),(0,a.useEffect)((function(){if(!u&&!document.querySelector("#getlibs")&&o){var e=document.createElement("script");e.id="getlibs",e.src=h()+"/static/js/getlibs.js",e.async=!1,e.onload=function(){null==window.__GetlibsReadyResolver||window.__GetlibsReadyResolver()},document.head.append(e)}}),[u]),!r)return null;if(n||o){var s=document.querySelector("#plasmic-app.__wab_user-body");s||((s=document.createElement("div")).id="plasmic-app",s.classList.add("__wab_user-body"),document.body.appendChild(s));var l=new URLSearchParams(location.hash),f=!!n&&{componentName:l.get("componentName")};return(0,i.createPortal)((0,a.createElement)(j,{key:""+y},(0,a.createElement)(m.Provider,{value:f},p.get())),s,"plasmic-app")}return u&&window.parent===window?(0,a.createElement)("iframe",{src:"https://docs.plasmic.app/app-content/app-host-ready#appHostUrl="+encodeURIComponent(location.href),style:{width:"100vw",height:"100vh",border:"none",position:"fixed",top:0,left:0,zIndex:99999999}}):null}var w=function(e){var t=e.enableWebpackHmr,r=(0,a.useState)(null),n=r[0],o=r[1];return(0,a.useEffect)((function(){o((0,a.createElement)(b,null))}),[]),(0,a.createElement)(a.Fragment,null,!t&&(0,a.createElement)(O,null),n)},_=[];function x(e){return _.push(e),function(){var t=_.indexOf(e);t>=0&&_.splice(t,1)}}var j=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).state={},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,c(t,r),n.getDerivedStateFromError=function(e){return{error:e}};var o=n.prototype;return o.componentDidCatch=function(e){_.forEach((function(t){return t(e)}))},o.render=function(){return this.state.error?(0,a.createElement)("div",null,"Error: ",""+this.state.error.message):(0,a.createElement)(a.Fragment,null,this.props.children)},n}(a.Component);function O(){return null}var S=(0,a.createContext)(void 0);function E(e){return"__plasmic_meta_"+e}function k(e){return e}function C(e,t){if(t){for(var r,n=e,o=l(t.split("."));!(r=o()).done;){var a,i=r.value;n=null==(a=n)?void 0:a[i]}return n}}function A(e){return C(P(),e)}function I(e){void 0===e&&(e={});var t=P();return Object.fromEntries(Object.entries(e).filter((function(e){var t=e[0],r=e[1];return!!t&&!!r})).map((function(e){var r=e[0],n=e[1];return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t}(r,C(t,n))})))}function P(){return(0,a.useContext)(S)}function R(e){var t,r,n=e.name,o=e.data,i=e.hidden,c=e.label,s=e.children,l=null!=(t=P())?t:{};return n?a.createElement(S.Provider,{value:u({},l,(r={},r[n]=o,r[E(n)]={hidden:i,label:c},r))},s):a.createElement(a.Fragment,null,s)}function L(e){var t=e.children,r=e.params,n=void 0===r?{}:r,o=e.query,i=void 0===o?{}:o;return a.createElement(R,{name:"params",data:n,label:"Page route params"},a.createElement(R,{name:"query",data:i,label:"Page query params"},t))}function F(e){return(0,e.children)(P())}var D=globalThis;function T(e,t){D.__PlasmicFetcherRegistry.push({fetcher:e,meta:t})}D.__PlasmicFetcherRegistry=[];var V=globalThis;function U(e,t){V.__PlasmicComponentRegistry.push({component:e,meta:t})}null==V.__PlasmicComponentRegistry&&(V.__PlasmicComponentRegistry=[]);var $=globalThis;function M(e,t){$.__PlasmicContextRegistry.push({component:e,meta:t})}null==$.__PlasmicContextRegistry&&($.__PlasmicContextRegistry=[]);var N,q,z=globalThis;function B(e,t){z.__PlasmicTraitRegistry.push({trait:e,meta:t})}function Z(e,t){return G(e,t)}null==z.__PlasmicTraitRegistry&&(z.__PlasmicTraitRegistry=[]);var G=function(e,t){return Array.isArray(t)?t.map((function(t){return G(e,t)})):t&&(0,a.isValidElement)(t)&&"string"!==typeof t?(0,a.cloneElement)(t):t},H=globalThis,W=null!=(N=null==H||null==(q=H.__Sub)?void 0:q.setRepeatedElementFn)?N:function(e){G=e},J={__proto__:null,PlasmicCanvasContext:m,PlasmicCanvasHost:w,usePlasmicCanvasContext:g,unstable_registerFetcher:T,registerComponent:U,registerGlobalContext:M,registerTrait:B,repeatedElement:Z,DataContext:S,mkMetaName:E,mkMetaValue:k,applySelector:C,useSelector:A,useSelectors:I,useDataEnv:P,DataProvider:R,PageParamsProvider:L,DataCtxReader:F},Y=globalThis;null==Y.__Sub&&(Y.__Sub=u({React:n||(n=r.t(a,2)),ReactDOM:o||(o=r.t(i,2)),hostModule:J,hostVersion:"1.0.71",hostUtils:{setPlasmicRootNode:v,registerRenderErrorListener:x,setRepeatedElementFn:W},setPlasmicRootNode:v,registerRenderErrorListener:x,setRepeatedElementFn:W},J))},3705:function(e,t,r){"use strict";r.d(t,{xk:function(){return ve}});var n=globalThis;null==n.__PlasmicContextRegistry&&(n.__PlasmicContextRegistry=[]);var o=r(7294),a=r(3834),i=r(6964),u=r.n(i),c=r(1955);var s=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},l="object"==typeof global&&global&&global.Object===Object&&global,f="object"==typeof self&&self&&self.Object===Object&&self,d=l||f||Function("return this")(),p=function(){return d.Date.now()},h=/\s/;var y=function(e){for(var t=e.length;t--&&h.test(e.charAt(t)););return t},v=/^\s+/;var m=function(e){return e?e.slice(0,y(e)+1).replace(v,""):e},g=d.Symbol,b=Object.prototype,w=b.hasOwnProperty,_=b.toString,x=g?g.toStringTag:void 0;var j=function(e){var t=w.call(e,x),r=e[x];try{e[x]=void 0;var n=!0}catch(a){}var o=_.call(e);return n&&(t?e[x]=r:delete e[x]),o},O=Object.prototype.toString;var S=function(e){return O.call(e)},E=g?g.toStringTag:void 0;var k=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?j(e):S(e)};var C=function(e){return null!=e&&"object"==typeof e};var A=function(e){return"symbol"==typeof e||C(e)&&"[object Symbol]"==k(e)},I=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,R=/^0o[0-7]+$/i,L=parseInt;var F=function(e){if("number"==typeof e)return e;if(A(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=m(e);var r=P.test(e);return r||R.test(e)?L(e.slice(2),r?2:8):I.test(e)?NaN:+e},D=Math.max,T=Math.min;var V=function(e,t,r){var n,o,a,i,u,c,l=0,f=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=n,a=o;return n=o=void 0,l=t,i=e.apply(a,r)}function v(e){return l=e,u=setTimeout(g,t),f?y(e):i}function m(e){var r=e-c;return void 0===c||r>=t||r<0||d&&e-l>=a}function g(){var e=p();if(m(e))return b(e);u=setTimeout(g,function(e){var r=t-(e-c);return d?T(r,a-(e-l)):r}(e))}function b(e){return u=void 0,h&&n?y(e):(n=o=void 0,i)}function w(){var e=p(),r=m(e);if(n=arguments,o=this,c=e,r){if(void 0===u)return v(c);if(d)return clearTimeout(u),u=setTimeout(g,t),y(c)}return void 0===u&&(u=setTimeout(g,t)),i}return t=F(t)||0,s(r)&&(f=!!r.leading,a=(d="maxWait"in r)?D(F(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h),w.cancel=function(){void 0!==u&&clearTimeout(u),l=0,n=c=o=u=void 0},w.flush=function(){return void 0===u?i:b(p())},w},U="SWELL_checkoutId";function $(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(n,o)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){$(a,n,o,i,u,"next",e)}function u(e){$(a,n,o,i,u,"throw",e)}i(void 0)}))}}function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"===typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){return e(t={exports:{}},t.exports),t.exports}var Z=B((function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new C(n||[]);return a._invoke=function(e,t,r){var n=f;return function(o,a){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw a;return I()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var u=S(i,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?h:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(e,r,i),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function m(){}function g(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(A([])));_&&_!==r&&n.call(_,a)&&(b=_);var x=g.prototype=v.prototype=Object.create(b);function j(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(o,a,i,u){var c=l(e[o],e,a);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var o;this._invoke=function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}}function S(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var r=e[a];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return m.prototype=g,c(x,"constructor",g),c(g,"constructor",m),m.displayName=c(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},j(O.prototype),c(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(x),c(x,u,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return u.type="throw",u.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),G=["file"],H=function(e){var t=e.id,r=e.name,n=void 0===r?"":r,o=e.values,a=(void 0===o?[]:o).map((function(e){var t={label:e.name};return n.match(/colou?r/gi)&&(t=N({},t,{hexColors:[e.name]})),t}));return{__typename:"MultipleChoiceOption",id:t,displayName:n,values:a}},W=function(e){return!e||e.length<1?[{url:"/"}]:null==e?void 0:e.map((function(e){var t=e.file,r=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,G);return N({url:(null==t?void 0:t.url)+"",height:Number(null==t?void 0:t.height),width:Number(null==t?void 0:t.width)},r)}))};function J(e){var t=e.id,r=e.description,n=e.images,o=e.options,a=e.slug,i=e.variants,u=e.price,c=e.currency,s=[{options:[],id:t,name:"Default variant"}],l=o?o.map((function(e){return H(e)})):[],f=i?function(e,t){return null==e?void 0:e.map((function(e){var r=e.id,n=e.name,o=e.price,a=e.option_value_ids,i=void 0===a?[]:a,u=n.split(",").map((function(e){return{name:e.trim(),label:e.trim()}})),c=i.map((function(e){var r,n=t.find((function(t){return t.values.find((function(t){return t.id==e}))}));return H({id:e,name:null!=(r=null==n?void 0:n.name)?r:"",values:u})}));return{id:r,name:n,price:null!=o?o:void 0,options:c}}))}(i.results,o):[];return N({},e,{description:r,id:t,vendor:"",path:"/"+a,images:W(n),variants:f&&f.length?f:s,options:l,price:{value:u,currencyCode:c}})}function Y(e){var t,r=e.id,n=e.account_id,o=e.date_created,a=e.currency,i=e.tax_included_total,u=e.items,c=e.sub_total,s=e.grand_total,l=e.discounts;return{id:r,customerId:n+"",email:"",createdAt:o,currency:{code:a},taxesIncluded:i>0,lineItems:null!=(t=null==u?void 0:u.map(K))?t:[],lineItemsSubtotalPrice:+c,subtotalPrice:+c,totalPrice:s,discounts:null==l?void 0:l.map((function(e){return{value:e.amount}}))}}function K(e){var t,r,n,o,a=e.id,i=e.product,u=e.price,c=e.variant,s=e.quantity;return{id:a,variantId:null==c?void 0:c.id,productId:null!=(t=i.id)?t:"",name:null!=(r=null==i?void 0:i.name)?r:"",quantity:s,variant:{id:null!=(n=null==c?void 0:c.id)?n:"",sku:null!=(o=null==c?void 0:c.sku)?o:"",name:null==c?void 0:c.name,image:{url:null!=i&&i.images&&i.images.length>0?null==i?void 0:i.images[0].file.url:"/"},requiresShipping:!1,price:u,listPrice:u},path:"",discounts:[],options:[{value:null==c?void 0:c.name}]}}function X(e){return null==e?void 0:e.results.map((function(e){return e.id}))}function Q(e){var t=e.id,r=e.name,n=e.slug,o=e.products,a=e.images,i=e.depth,u=e.children,c=e.parent_id;return{id:t,name:r,slug:n,path:"/"+n,isEmpty:0===(null==o?void 0:o.length),images:null==a?void 0:a.map((function(e){return{url:e.file.url}})),depth:i,children:X(u),parentId:c}}var ee=function(){var e=M(Z.mark((function e(t){return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}if(!t.error){e.next=3;break}throw new a.yG(t.error);case 3:return e.abrupt("return",t);case 4:return e.abrupt("return",null);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(e){if(!e)throw new a.yG({message:"Invalid response from Swell"});return Y(e)},re=function(){var e=M(Z.mark((function e(t){var r,n,o;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({query:"cart",method:"get"});case 2:if(r=e.sent){e.next=6;break}return e.next=6,t({query:"cart",method:"setItems",variables:[[]]});case 6:return n=null==r?void 0:r.checkout_url,o={expires:30,sameSite:"none",secure:!0},n&&c.Z.set("swell_checkoutUrl",n,o),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne={fetchOptions:{query:"cart",method:"get"},fetcher:function(e){return M(Z.mark((function t(){var r,n;return Z.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.fetch,t.next=3,re(r);case 3:return n=t.sent,t.abrupt("return",n?Y(n):null);case 5:case"end":return t.stop()}}),t)})))()},useHook:function(e){var t=e.useData;return function(e){var r=t({swrOptions:N({revalidateOnFocus:!1},null==e?void 0:e.swrOptions)});return(0,o.useMemo)((function(){return Object.create(r,{isEmpty:{get:function(){var e,t;return(null!=(e=null==(t=r.data)?void 0:t.lineItems.length)?e:0)<=0},enumerable:!0}})}),[r])}}},oe={fetchOptions:{query:"cart",method:"addItem"},fetcher:function(e){return M(Z.mark((function t(){var r,n,o,i,u;return Z.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.input,n=e.options,o=e.fetch,!r.quantity||Number.isInteger(r.quantity)&&!(r.quantity<1)){t.next=3;break}throw new a.yG({message:"The item quantity has to be a valid integer greater than 0"});case 3:return i={checkoutId:(s=void 0,null!=s?s:c.Z.get(U)),product_id:r.productId,quantity:r.quantity},r.productId!==r.variantId&&(i.variant_id=r.variantId),t.next=7,o(N({},n,{variables:i}));case 7:return u=t.sent,t.abrupt("return",te(u));case 9:case"end":return t.stop()}var s}),t)})))()},useHook:function(e){var t=e.fetch;return function(){var e=(0,a.jD)().mutate;return(0,o.useCallback)(function(){var r=M(Z.mark((function r(n){var o;return Z.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t({input:n});case 2:return o=r.sent,r.next=5,e(o,!1);case 5:return r.abrupt("return",o);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,e])}}},ae={fetchOptions:{query:"cart",method:"removeItem"},fetcher:function(e){return M(Z.mark((function t(){var r,n,o,a;return Z.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.input.itemId,n=e.options,o=e.fetch,t.next=3,o(N({},n,{variables:[r]}));case 3:return a=t.sent,t.abrupt("return",te(a));case 5:case"end":return t.stop()}}),t)})))()},useHook:function(e){var t=e.fetch;return function(){var e=(0,a.jD)().mutate;return(0,o.useCallback)(function(){var r=M(Z.mark((function r(n){var o;return Z.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t({input:{itemId:n.id}});case 2:return o=r.sent,r.next=5,e(o,!1);case 5:return r.abrupt("return",o);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,e])}}},ie={fetchOptions:{query:"cart",method:"updateItem"},fetcher:function(e){return M(Z.mark((function t(){var r,n,o,i,u,c;return Z.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.input,n=r.itemId,o=r.item,i=e.options,u=e.fetch,!Number.isInteger(o.quantity)){t.next=6;break}if(!(o.quantity<1)){t.next=4;break}return t.abrupt("return",ae.fetcher({options:ae.fetchOptions,input:{itemId:n},fetch:u}));case 4:t.next=8;break;case 6:if(!o.quantity){t.next=8;break}throw new a.p8({message:"The item quantity has to be a valid integer"});case 8:return t.next=10,u(N({},i,{variables:[n,{quantity:o.quantity}]}));case 10:return c=t.sent,t.abrupt("return",te(c));case 12:case"end":return t.stop()}}),t)})))()},useHook:function(e){var t=e.fetch;return function(e){var r;void 0===e&&(e={});var n=e.item,i=(0,a.jD)(),u=i.mutate,c=i.data;return(0,o.useCallback)(V(function(){var e=M(Z.mark((function e(r){var o,i,s,l,f;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.lineItems[0],i=(null==n?void 0:n.id)||o.id,s=(null==n?void 0:n.productId)||o.productId,l=(null==n?void 0:n.variant.id)||o.variant.id,i&&s){e.next=6;break}throw new a.p8({message:"Invalid input used for this operation"});case 6:return e.next=8,t({input:{item:{productId:s,variantId:l,quantity:r.quantity},itemId:i}});case 8:return f=e.sent,e.next=11,u(f,!1);case 11:return e.abrupt("return",f);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),null!=(r=e.wait)?r:500),[t,u])}}};function ue(e,t){if(void 0===t&&(t=""),null===e||void 0===e)throw new Error("Value must not be undefined or null"+(t?"- "+t:""));return e}var ce=function(e,t){if(!e||!t)return[];for(var r=[e],n=[];r.length>0;){var o,a,i=ue(r.shift());n.push(i),r.push.apply(r,null!=(o=null==(a=i.children)?void 0:a.map((function(e){return ue(t.find((function(t){return t.id===e})),"The child category must always exist in the categories list")})))?o:[])}return n},se=function(e){return e.filter((function(e){return!e.parentId})).flatMap((function(t){return ce(t,e)}))},le={fetchOptions:{query:"products",method:"list"},fetcher:function(e){return M(Z.mark((function t(){var r,n,o,a,i,u,c,s,l,f,d,p,h,y,v,m;return Z.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.input,n=e.options,o=e.fetch,a=new Map([["latest-desc",""],["price-asc","price asc"],["price-desc","price desc"],["trending-desc","popularity"]]),i=r.categoryId,u=r.includeSubCategories,c=r.categories,s=r.brandId,l=r.search,f=r.sort,d=void 0===f?"latest-desc":f,p=r.count,h=a.get(d),y=u?ce(null==c?void 0:c.find((function(e){return e.id===i})),c):void 0,t.next=7,o({query:n.query,method:n.method,variables:{category:u?void 0:i,brand:s,search:l,sort:h,expand:["variants"],limit:p,$filters:N({},u?{category:null==y?void 0:y.map((function(e){return e.id}))}:{})}});case 7:return v=t.sent,m=v.results,t.abrupt("return",{products:m.map((function(e){return J(e)})),found:m.length>0});case 10:case"end":return t.stop()}}),t)})))()},useHook:function(e){var t=e.useData;return function(e){return void 0===e&&(e={}),t({input:[["search",e.search],["categoryId",e.categoryId],["includeSubCategories",e.includeSubCategories],["categories",e.categories],["brandId",e.brandId],["sort",e.sort],["count",e.count]],swrOptions:N({revalidateOnFocus:!1},e.swrOptions)})}}},fe={fetchOptions:{query:"products",method:"get"},fetcher:function(e){return M(Z.mark((function t(){var r,n,o,a,i;return Z.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.input,n=e.options,o=e.fetch,a=r.id,t.next=4,o({query:n.query,method:n.method,variables:[a]});case 4:if(i=t.sent){t.next=7;break}return t.abrupt("return",null);case 7:return t.abrupt("return",J(i));case 8:case"end":return t.stop()}}),t)})))()},useHook:function(e){var t=e.useData;return function(e){return void 0===e&&(e={}),t({input:[["id",e.id]],swrOptions:N({revalidateOnFocus:!1},e.swrOptions)})}}},de={fetchOptions:{query:"categories",method:"get"},fetcher:function(e){return M(Z.mark((function t(){var r,n,o,a,i,u,c,s,l,f,d,p;return Z.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.input,o=e.options,a=e.fetch,i=n.addIsEmptyField,u=n.categoryId,t.next=4,a({query:o.query,method:o.method,variables:{expand:["children","parent_id"],id:u}});case 4:if(c=t.sent,s=null!=(r=null==c?void 0:c.results)?r:[],!i){t.next=10;break}return t.next=9,Promise.all(s.map(function(){var e=M(Z.mark((function e(t){return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.t1={},e.t2=t,e.next=5,a({query:"products",method:"list",variables:{limit:1,category:t.id}});case 5:return e.t3=e.sent.results,e.t4={products:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:s=t.sent;case 10:for(l=u?s.map(Q):se(s.map(Q)),f=function(){var e,t,r=p.value;r.depth=(null!=(e=null==(t=l.find((function(e){return e.id===r.parentId})))?void 0:t.depth)?e:-1)+1},d=z(l);!(p=d()).done;)f();return t.abrupt("return",l);case 14:case"end":return t.stop()}}),t)})))()},useHook:function(e){var t=e.useData;return function(e){var r=t({input:[["addIsEmptyField",null==e?void 0:e.addIsEmptyField],["categoryId",null==e?void 0:e.categoryId]],swrOptions:N({revalidateOnFocus:!1},null==e?void 0:e.swrOptions)});return(0,o.useMemo)((function(){return Object.create(r,{isEmpty:{get:function(){var e,t;return(null!=(e=null==(t=r.data)?void 0:t.length)?e:0)<=0},enumerable:!0}})}),[r])}}},pe={fetchOptions:{query:"attributes",method:"get"},fetcher:function(e){return M(Z.mark((function t(){var r,n,o,a;return Z.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.fetch,t.next=3,o({query:"attributes",method:"get",variables:"brand"});case 3:if(t.t0=n=t.sent,null!=t.t0){t.next=8;break}t.t1=void 0,t.next=9;break;case 8:t.t1=n.values;case 9:if(t.t2=r=t.t1,null==t.t2){t.next=14;break}t.t3=r,t.next=15;break;case 14:t.t3=[];case 15:return a=t.t3,t.abrupt("return",Array.from(new Set(a).values()).map((function(e){return{entityId:e,name:e,path:"brands/"+e}})));case 17:case"end":return t.stop()}}),t)})))()},useHook:function(e){var t=e.useData;return function(e){var r=t({swrOptions:N({revalidateOnFocus:!1},null==e?void 0:e.swrOptions)});return(0,o.useMemo)((function(){return Object.create(r,{isEmpty:{get:function(){var e,t;return(null!=(e=null==(t=r.data)?void 0:t.length)?e:0)<=0},enumerable:!0}})}),[r])}}},he=function(){var e=M(Z.mark((function e(t){var r,n,o,i,c,s;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){return(s=M(Z.mark((function e(){var t,r,a,c;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(o)){e.next=9;break}return t=o[0],r=o[1],e.next=5,u()[i][n](t,r);case 5:return a=e.sent,e.abrupt("return",ee(a));case 9:return e.next=11,u()[i][n](o);case 11:return c=e.sent,e.abrupt("return",ee(c));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(){return s.apply(this,arguments)},r=t.method,n=void 0===r?"get":r,o=t.variables,!(i=t.query)||!(i in u())){e.next=9;break}return e.next=6,c();case 6:return e.abrupt("return",e.sent);case 9:throw new a.yG({message:"Invalid query argument!"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(e,t){return(0,a.DX)(function(e,t){return u().init(e,t),{locale:"en-us",cartCookie:U,swell:u(),fetcher:he,cart:{useCart:ne,useAddItem:oe,useUpdateItem:ie,useRemoveItem:ae},products:{useSearch:le,useProduct:fe},site:{useCategories:de,useBrands:pe},extraFeatures:{includeSubCategories:!0}}}(e,t))};function ve(e){var t=e.storeId,r=e.publicKey,n=e.children,a=ye(t,r);return o.createElement(a,null,n)}},3834:function(e,t,r){"use strict";r.d(t,{a4:function(){return pr},Pj:function(){return br},wB:function(){return jr},Vq:function(){return Or},yG:function(){return tr},nZ:function(){return Ir},SI:function(){return Pr},Kw:function(){return Lr},aZ:function(){return Fr},B:function(){return Dr},p8:function(){return rr},DX:function(){return Qt},jD:function(){return vr}});var n=globalThis;null==n.__PlasmicComponentRegistry&&(n.__PlasmicComponentRegistry=[]);var o=r(7294),a=r(8030),i=e=>"checkbox"===e.type,u=e=>e instanceof Date,c=e=>null==e;const s=e=>"object"===typeof e;var l=e=>!c(e)&&!Array.isArray(e)&&s(e)&&!u(e),f=e=>l(e)&&e.target?i(e.target)?e.target.checked:e.target.value:e,d=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),p=e=>Array.isArray(e)?e.filter(Boolean):[],h=e=>void 0===e,y=(e,t,r)=>{if(!t||!l(e))return r;const n=p(t.split(/[,[\].]+?/)).reduce(((e,t)=>c(e)?e:e[t]),e);return h(n)||n===e?h(e[t])?r:e[t]:n};const v="blur",m="focusout",g="change",b="onBlur",w="onChange",_="onSubmit",x="onTouched",j="all",O="max",S="min",E="maxLength",k="minLength",C="pattern",A="required",I="validate",P=o.createContext(null),R=()=>o.useContext(P),L=e=>{const{children:t,...r}=e;return o.createElement(P.Provider,{value:r},t)};var F=(e,t,r,n=!0)=>{const o={};for(const a in e)Object.defineProperty(o,a,{get:()=>{const o=a;return t[o]!==j&&(t[o]=!n||j),r&&(r[o]=!0),e[o]}});return o},D=e=>l(e)&&!Object.keys(e).length,T=(e,t,r)=>{const{name:n,...o}=e;return D(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find((e=>t[e]===(!r||j)))},V=e=>Array.isArray(e)?e:[e],U=(e,t,r)=>r&&t?e===t:!e||!t||e===t||V(e).some((e=>e&&(e.startsWith(t)||t.startsWith(e))));function $(e){const t=o.useRef(e);t.current=e,o.useEffect((()=>{const r=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>(e=>{e&&e.unsubscribe()})(r)}),[e.disabled])}var M=e=>"string"===typeof e,N=(e,t,r,n)=>{const o=Array.isArray(e);return M(e)?(n&&t.watch.add(e),y(r,e)):o?e.map((e=>(n&&t.watch.add(e),y(r,e)))):(n&&(t.watchAll=!0),r)},q=e=>"function"===typeof e,z=e=>{for(const t in e)if(q(e[t]))return!0;return!1};function B(e){const t=R(),{name:r,control:n=t.control,shouldUnregister:a}=e,i=d(n._names.array,r),u=function(e){const t=R(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:u}=e||{},c=o.useRef(n);c.current=n;const s=o.useCallback((e=>{if(U(c.current,e.name,u)){const t=N(c.current,r._names,e.values||r._formValues);d(h(c.current)||l(t)&&!z(t)?{...t}:Array.isArray(t)?[...t]:h(t)?a:t)}}),[r,u,a]);$({disabled:i,subject:r._subjects.watch,callback:s});const[f,d]=o.useState(h(a)?r._getWatch(n):a);return o.useEffect((()=>{r._removeUnmounted()})),f}({control:n,name:r,defaultValue:y(n._formValues,r,y(n._defaultValues,r,e.defaultValue)),exact:!0}),c=function(e){const t=R(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[u,c]=o.useState(r._formState),s=o.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),l=o.useRef(a),f=o.useRef(!0);return l.current=a,$({disabled:n,callback:o.useCallback((e=>f.current&&U(l.current,e.name,i)&&T(e,s.current)&&c({...r._formState,...e})),[r,i]),subject:r._subjects.state}),o.useEffect((()=>(f.current=!0,()=>{f.current=!1})),[]),F(u,r._proxyFormState,s.current,!1)}({control:n,name:r}),s=o.useRef(n.register(r,{...e.rules,value:u}));return o.useEffect((()=>{const e=(e,t)=>{const r=y(n._fields,e);r&&(r._f.mount=t)};return e(r,!0),()=>{const t=n._options.shouldUnregister||a;(i?t&&!n._stateFlags.action:t)?n.unregister(r):e(r,!1)}}),[r,n,i,a]),{field:{name:r,value:u,onChange:o.useCallback((e=>{s.current.onChange({target:{value:f(e),name:r},type:g})}),[r]),onBlur:o.useCallback((()=>{s.current.onBlur({target:{value:y(n._formValues,r),name:r},type:v})}),[r,n]),ref:o.useCallback((e=>{const t=y(n._fields,r);e&&t&&e.focus&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}),[r,n._fields])},formState:c,fieldState:Object.defineProperties({},{invalid:{get:()=>!!y(c.errors,r)},isDirty:{get:()=>!!y(c.dirtyFields,r)},isTouched:{get:()=>!!y(c.touchedFields,r)},error:{get:()=>y(c.errors,r)}})}}const Z=e=>e.render(B(e));var G=(e,t,r,n,o)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:o||!0}}:{},H=e=>/^\w*$/.test(e),W=e=>p(e.replace(/["|']|\]/g,"").split(/\.|\[/));function J(e,t,r){let n=-1;const o=H(t)?[t]:W(t),a=o.length,i=a-1;for(;++n<a;){const t=o[n];let a=r;if(n!==i){const r=e[t];a=l(r)||Array.isArray(r)?r:isNaN(+o[n+1])?{}:[]}e[t]=a,e=e[t]}return e}const Y=(e,t,r)=>{for(const n of r||Object.keys(e)){const r=y(e,n);if(r){const{_f:e,...n}=r;if(e&&t(e.name)){if(e.ref.focus&&h(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else l(n)&&Y(n,t)}}};var K=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));var X="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Q(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(X&&(e instanceof Blob||e instanceof FileList)||!r&&!l(e))return e;t=r?[]:{};for(const r in e){if(q(e[r])){t=e;break}t[r]=Q(e[r])}}return t}function ee(e,t){const r=H(t)?[t]:W(t),n=1==r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=h(e)?n++:e[t[n++]];return e}(e,r),o=r[r.length-1];let a;n&&delete n[o];for(let i=0;i<r.slice(0,-1).length;i++){let t,n=-1;const o=r.slice(0,-(i+1)),u=o.length-1;for(i>0&&(a=e);++n<o.length;){const r=o[n];t=t?t[r]:e[r],u===n&&(l(t)&&D(t)||Array.isArray(t)&&!t.filter((e=>!h(e))).length)&&(a?delete a[r]:delete e[r]),a=t}}return e}function te(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var re=e=>c(e)||!s(e);function ne(e,t){if(re(e)||re(t))return e===t;if(u(e)&&u(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const o of r){const r=e[o];if(!n.includes(o))return!1;if("ref"!==o){const e=t[o];if(u(r)&&u(e)||l(r)&&l(e)||Array.isArray(r)&&Array.isArray(e)?!ne(r,e):r!==e)return!1}}return!0}var oe=e=>({isOnSubmit:!e||e===_,isOnBlur:e===b,isOnChange:e===w,isOnAll:e===j,isOnTouch:e===x}),ae=e=>"boolean"===typeof e,ie=e=>"file"===e.type,ue=e=>{const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},ce=e=>"select-multiple"===e.type,se=e=>"radio"===e.type,le=e=>ue(e)&&e.isConnected;function fe(e,t={}){const r=Array.isArray(e);if(l(e)||r)for(const n in e)Array.isArray(e[n])||l(e[n])&&!z(e[n])?(t[n]=Array.isArray(e[n])?[]:{},fe(e[n],t[n])):c(e[n])||(t[n]=!0);return t}function de(e,t,r){const n=Array.isArray(e);if(l(e)||n)for(const o in e)Array.isArray(e[o])||l(e[o])&&!z(e[o])?h(t)||re(r[o])?r[o]=Array.isArray(e[o])?fe(e[o],[]):{...fe(e[o])}:de(e[o],c(t)?{}:t[o],r[o]):r[o]=!ne(e[o],t[o]);return r}var pe=(e,t)=>de(e,t,fe(t));const he={value:!1,isValid:!1},ye={value:!0,isValid:!0};var ve=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!h(e[0].attributes.value)?h(e[0].value)||""===e[0].value?ye:{value:e[0].value,isValid:!0}:ye:he}return he},me=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>h(e)?e:t?""===e||c(e)?NaN:+e:r&&M(e)?new Date(e):n?n(e):e;const ge={isValid:!1,value:null};var be=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),ge):ge;function we(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return ie(t)?t.files:se(t)?be(e.refs).value:ce(t)?[...t.selectedOptions].map((({value:e})=>e)):i(t)?ve(e.refs).value:me(h(t.value)?e.ref.value:t.value,e)}var _e=e=>e instanceof RegExp,xe=e=>h(e)?void 0:_e(e)?e.source:l(e)?_e(e.value)?e.value.source:e.value:e;function je(e,t,r){const n=y(e,r);if(n||H(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const n=o.join("."),a=y(t,n),i=y(e,n);if(a&&!Array.isArray(a)&&r!==n)return{name:r};if(i&&i.type)return{name:n,error:i};o.pop()}return{name:r}}var Oe=e=>M(e)||o.isValidElement(e);function Se(e,t,r="validate"){if(Oe(e)||Array.isArray(e)&&e.every(Oe)||ae(e)&&!e)return{type:r,message:Oe(e)?e:"",ref:t}}var Ee=e=>l(e)&&!_e(e)?e:{value:e,message:""},ke=async(e,t,r,n)=>{const{ref:o,refs:a,required:u,maxLength:s,minLength:f,min:d,max:p,pattern:h,validate:y,name:v,valueAsNumber:m,mount:g,disabled:b}=e._f;if(!g||b)return{};const w=a?a[0]:o,_=e=>{n&&w.reportValidity&&(w.setCustomValidity(ae(e)?"":e||" "),w.reportValidity())},x={},j=se(o),P=i(o),R=j||P,L=(m||ie(o))&&!o.value||""===t||Array.isArray(t)&&!t.length,F=G.bind(null,v,r,x),T=(e,t,r,n=E,a=k)=>{const i=e?t:r;x[v]={type:e?n:a,message:i,ref:o,...F(e?n:a,i)}};if(u&&(!R&&(L||c(t))||ae(t)&&!t||P&&!ve(a).isValid||j&&!be(a).isValid)){const{value:e,message:t}=Oe(u)?{value:!!u,message:u}:Ee(u);if(e&&(x[v]={type:A,message:t,ref:w,...F(A,t)},!r))return _(t),x}if(!L&&(!c(d)||!c(p))){let e,n;const a=Ee(p),i=Ee(d);if(c(t)||isNaN(t)){const r=o.valueAsDate||new Date(t);M(a.value)&&(e=r>new Date(a.value)),M(i.value)&&(n=r<new Date(i.value))}else{const r=o.valueAsNumber||+t;c(a.value)||(e=r>a.value),c(i.value)||(n=r<i.value)}if((e||n)&&(T(!!e,a.message,i.message,O,S),!r))return _(x[v].message),x}if((s||f)&&!L&&M(t)){const e=Ee(s),n=Ee(f),o=!c(e.value)&&t.length>e.value,a=!c(n.value)&&t.length<n.value;if((o||a)&&(T(o,e.message,n.message),!r))return _(x[v].message),x}if(h&&!L&&M(t)){const{value:e,message:n}=Ee(h);if(_e(e)&&!t.match(e)&&(x[v]={type:C,message:n,ref:o,...F(C,n)},!r))return _(n),x}if(y)if(q(y)){const e=Se(await y(t),w);if(e&&(x[v]={...e,...F(I,e.message)},!r))return _(e.message),x}else if(l(y)){let e={};for(const n in y){if(!D(e)&&!r)break;const o=Se(await y[n](t),w,n);o&&(e={...o,...F(n,o.message)},_(o.message),r&&(x[v]=e))}if(!D(e)&&(x[v]={ref:w,...e},!r))return x}return _(!0),x};const Ce={mode:_,reValidateMode:w,shouldFocusError:!0};function Ae(e={}){let t,r={...Ce,...e},n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},o={},a=Q(r.defaultValues)||{},s=r.shouldUnregister?{}:Q(a),l={action:!1,mount:!1,watch:!1},g={mount:new Set,unMount:new Set,array:new Set,watch:new Set},b=0,w={};const _={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={watch:te(),array:te(),state:te()},O=oe(r.mode),S=oe(r.reValidateMode),E=r.criteriaMode===j,k=async e=>{let t=!1;return _.isValid&&(t=r.resolver?D((await P()).errors):await R(o,!0),e||t===n.isValid||(n.isValid=t,x.state.next({isValid:t}))),t},C=(e,t,r,n)=>{const i=y(o,e);if(i){const o=y(s,e,h(r)?y(a,e):r);h(o)||n&&n.defaultChecked||t?J(s,e,t?o:we(i._f)):T(e,o),l.mount&&k()}},A=(e,t,r,o,i)=>{let u=!1;const c={name:e},s=y(n.touchedFields,e);if(_.isDirty){const e=n.isDirty;n.isDirty=c.isDirty=L(),u=e!==c.isDirty}if(_.dirtyFields&&(!r||o)){const r=y(n.dirtyFields,e);ne(y(a,e),t)?ee(n.dirtyFields,e):J(n.dirtyFields,e,!0),c.dirtyFields=n.dirtyFields,u=u||r!==y(n.dirtyFields,e)}return r&&!s&&(J(n.touchedFields,e,r),c.touchedFields=n.touchedFields,u=u||_.touchedFields&&s!==r),u&&i&&x.state.next(c),u?c:{}},I=async(r,o,a,i)=>{const u=y(n.errors,r),c=_.isValid&&n.isValid!==o;var s;if(e.delayError&&a?(s=()=>((e,t)=>{J(n.errors,e,t),x.state.next({errors:n.errors})})(r,a),t=e=>{clearTimeout(b),b=window.setTimeout(s,e)},t(e.delayError)):(clearTimeout(b),t=null,a?J(n.errors,r,a):ee(n.errors,r)),(a?!ne(u,a):u)||!D(i)||c){const e={...i,...c?{isValid:o}:{},errors:n.errors,name:r};n={...n,...e},x.state.next(e)}w[r]--,_.isValidating&&!Object.values(w).some((e=>e))&&(x.state.next({isValidating:!1}),w={})},P=async e=>r.resolver?await r.resolver({...s},r.context,((e,t,r,n)=>{const o={};for(const a of e){const e=y(t,a);e&&J(o,a,e._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:n}})(e||g.mount,o,r.criteriaMode,r.shouldUseNativeValidation)):{},R=async(e,t,o={valid:!0})=>{for(const a in e){const i=e[a];if(i){const{_f:e,...a}=i;if(e){const a=await ke(i,y(s,e.name),E,r.shouldUseNativeValidation);if(a[e.name]&&(o.valid=!1,t))break;t||(a[e.name]?J(n.errors,e.name,a[e.name]):ee(n.errors,e.name))}a&&await R(a,t,o)}}return o.valid},L=(e,t)=>(e&&t&&J(s,e,t),!ne(Z(),a)),F=(e,t,r)=>{const n={...l.mount?s:h(t)?a:M(e)?{[e]:t}:t};return N(e,g,n,r)},T=(e,t,r={})=>{const n=y(o,e);let a=t;if(n){const r=n._f;r&&(!r.disabled&&J(s,e,me(t,r)),a=X&&ue(r.ref)&&c(t)?"":t,ce(r.ref)?[...r.ref.options].forEach((e=>e.selected=a.includes(e.value))):r.refs?i(r.ref)?r.refs.length>1?r.refs.forEach((e=>!e.disabled&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):r.refs[0]&&(r.refs[0].checked=!!a):r.refs.forEach((e=>e.checked=e.value===a)):ie(r.ref)?r.ref.value="":(r.ref.value=a,r.ref.type||x.watch.next({name:e})))}(r.shouldDirty||r.shouldTouch)&&A(e,a,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&B(e)},U=(e,t,r)=>{for(const n in t){const a=t[n],i=`${e}.${n}`,c=y(o,i);!g.array.has(e)&&re(a)&&(!c||c._f)||u(a)?T(i,a,r):U(i,a,r)}},$=(e,t,r={})=>{const i=y(o,e),u=g.array.has(e),l=Q(t);J(s,e,l),u?(x.array.next({name:e,values:s}),(_.isDirty||_.dirtyFields)&&r.shouldDirty&&(n.dirtyFields=pe(a,s),x.state.next({name:e,dirtyFields:n.dirtyFields,isDirty:L(e,l)}))):!i||i._f||c(l)?T(e,l,r):U(e,l,r),K(e,g)&&x.state.next({}),x.watch.next({name:e})},z=async e=>{const a=e.target;let i=a.name;const u=y(o,i);if(u){let l,d;const p=a.type?we(u._f):f(e),h=e.type===v||e.type===m,b=!((c=u._f).mount&&(c.required||c.min||c.max||c.maxLength||c.minLength||c.pattern||c.validate))&&!r.resolver&&!y(n.errors,i)&&!u._f.deps||((e,t,r,n,o)=>!o.isOnAll&&(!r&&o.isOnTouch?!(t||e):(r?n.isOnBlur:o.isOnBlur)?!e:!(r?n.isOnChange:o.isOnChange)||e))(h,y(n.touchedFields,i),n.isSubmitted,S,O),_=K(i,g,h);J(s,i,p),h?(u._f.onBlur&&u._f.onBlur(e),t&&t(0)):u._f.onChange&&u._f.onChange(e);const j=A(i,p,h,!1),C=!D(j)||_;if(!h&&x.watch.next({name:i,type:e.type}),b)return C&&x.state.next({name:i,..._?{}:j});if(!h&&_&&x.state.next({}),w[i]=(w[i],1),x.state.next({isValidating:!0}),r.resolver){const{errors:e}=await P([i]),t=je(n.errors,o,i),r=je(e,o,t.name||i);l=r.error,i=r.name,d=D(e)}else l=(await ke(u,y(s,i),E,r.shouldUseNativeValidation))[i],d=await k(!0);u._f.deps&&B(u._f.deps),I(i,d,l,j)}var c},B=async(e,t={})=>{let a,i;const u=V(e);if(x.state.next({isValidating:!0}),r.resolver){const t=await(async e=>{const{errors:t}=await P();if(e)for(const r of e){const e=y(t,r);e?J(n.errors,r,e):ee(n.errors,r)}else n.errors=t;return t})(h(e)?e:u);a=D(t),i=e?!u.some((e=>y(t,e))):a}else e?(i=(await Promise.all(u.map((async e=>{const t=y(o,e);return await R(t&&t._f?{[e]:t}:t)})))).every(Boolean),(i||n.isValid)&&k()):i=a=await R(o);return x.state.next({...!M(e)||_.isValid&&a!==n.isValid?{}:{name:e},...r.resolver?{isValid:a}:{},errors:n.errors,isValidating:!1}),t.shouldFocus&&!i&&Y(o,(e=>y(n.errors,e)),e?u:g.mount),i},Z=e=>{const t={...a,...l.mount?s:{}};return h(e)?t:M(e)?y(t,e):e.map((e=>y(t,e)))},G=(e,t)=>({invalid:!!y((t||n).errors,e),isDirty:!!y((t||n).dirtyFields,e),isTouched:!!y((t||n).touchedFields,e),error:y((t||n).errors,e)}),H=(e,t={})=>{for(const i of e?V(e):g.mount)g.mount.delete(i),g.array.delete(i),y(o,i)&&(t.keepValue||(ee(o,i),ee(s,i)),!t.keepError&&ee(n.errors,i),!t.keepDirty&&ee(n.dirtyFields,i),!t.keepTouched&&ee(n.touchedFields,i),!r.shouldUnregister&&!t.keepDefaultValue&&ee(a,i));x.watch.next({}),x.state.next({...n,...t.keepDirty?{isDirty:L()}:{}}),!t.keepIsValid&&k()},W=(e,t={})=>{let n=y(o,e);const u=ae(t.disabled);return J(o,e,{_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),g.mount.add(e),n?u&&J(s,e,t.disabled?void 0:y(s,e,we(n._f))):C(e,!0,t.value),{...u?{disabled:t.disabled}:{},...r.shouldUseNativeValidation?{required:!!t.required,min:xe(t.min),max:xe(t.max),minLength:xe(t.minLength),maxLength:xe(t.maxLength),pattern:xe(t.pattern)}:{},name:e,onChange:z,onBlur:z,ref:u=>{if(u){W(e,t),n=y(o,e);const r=h(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,c=(e=>se(e)||i(e))(r),s=n._f.refs||[];if(c?s.find((e=>e===r)):r===n._f.ref)return;J(o,e,{_f:{...n._f,...c?{refs:[...s.filter(le),r,...Array.isArray(y(a,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),C(e,!1,void 0,r)}else n=y(o,e,{}),n._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!d(g.array,e)||!l.action)&&g.unMount.add(e)}}};return{control:{register:W,unregister:H,getFieldState:G,_executeSchema:P,_getWatch:F,_getDirty:L,_updateValid:k,_removeUnmounted:()=>{for(const e of g.unMount){const t=y(o,e);t&&(t._f.refs?t._f.refs.every((e=>!le(e))):!le(t._f.ref))&&H(e)}g.unMount=new Set},_updateFieldArray:(e,t=[],r,i,u=!0,c=!0)=>{if(i&&r){if(l.action=!0,c&&Array.isArray(y(o,e))){const t=r(y(o,e),i.argA,i.argB);u&&J(o,e,t)}if(_.errors&&c&&Array.isArray(y(n.errors,e))){const t=r(y(n.errors,e),i.argA,i.argB);u&&J(n.errors,e,t),((e,t)=>{!p(y(e,t)).length&&ee(e,t)})(n.errors,e)}if(_.touchedFields&&c&&Array.isArray(y(n.touchedFields,e))){const t=r(y(n.touchedFields,e),i.argA,i.argB);u&&J(n.touchedFields,e,t)}_.dirtyFields&&(n.dirtyFields=pe(a,s)),x.state.next({isDirty:L(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else J(s,e,t)},_getFieldArray:t=>p(y(l.mount?s:a,t,e.shouldUnregister?y(a,t,[]):[])),_subjects:x,_proxyFormState:_,get _fields(){return o},get _formValues(){return s},get _stateFlags(){return l},set _stateFlags(e){l=e},get _defaultValues(){return a},get _names(){return g},set _names(e){g=e},get _formState(){return n},set _formState(e){n=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:B,register:W,handleSubmit:(e,t)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let i=!0,u=Q(s);x.state.next({isSubmitting:!0});try{if(r.resolver){const{errors:e,values:t}=await P();n.errors=e,u=t}else await R(o);D(n.errors)?(x.state.next({errors:{},isSubmitting:!0}),await e(u,a)):(t&&await t({...n.errors},a),r.shouldFocusError&&Y(o,(e=>y(n.errors,e)),g.mount))}catch(c){throw i=!1,c}finally{n.isSubmitted=!0,x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:D(n.errors)&&i,submitCount:n.submitCount+1,errors:n.errors})}},watch:(e,t)=>q(e)?x.watch.subscribe({next:r=>e(F(void 0,t),r)}):F(e,t,!0),setValue:$,getValues:Z,reset:(t,r={})=>{const i=t||a,u=Q(i),c=t&&!D(t)?u:a;if(r.keepDefaultValues||(a=i),!r.keepValues){if(r.keepDirtyValues)for(const e of g.mount)y(n.dirtyFields,e)?J(c,e,y(s,e)):$(e,y(c,e));else{if(X&&h(t))for(const e of g.mount){const t=y(o,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;try{ue(e)&&e.closest("form").reset();break}catch(pt){}}}o={}}s=e.shouldUnregister?r.keepDefaultValues?Q(a):{}:u,x.array.next({values:c}),x.watch.next({values:c})}g={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!_.isValid||!!r.keepIsValid,l.watch=!!e.shouldUnregister,x.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:r.keepDirty||r.keepDirtyValues?n.isDirty:!(!r.keepDefaultValues||ne(t,a)),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:r.keepDirty||r.keepDirtyValues?n.dirtyFields:r.keepDefaultValues&&t?pe(a,t):{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(e,t={})=>{y(o,e)&&(h(t.defaultValue)?$(e,y(a,e)):($(e,t.defaultValue),J(a,e,t.defaultValue)),t.keepTouched||ee(n.touchedFields,e),t.keepDirty||(ee(n.dirtyFields,e),n.isDirty=t.defaultValue?L(e,y(a,e)):L()),t.keepError||(ee(n.errors,e),_.isValid&&k()),x.state.next({...n}))},clearErrors:e=>{e?V(e).forEach((e=>ee(n.errors,e))):n.errors={},x.state.next({errors:n.errors})},unregister:H,setError:(e,t,r)=>{const a=(y(o,e,{_f:{}})._f||{}).ref;J(n.errors,e,{...t,ref:a}),x.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&a&&a.focus&&a.focus()},setFocus:(e,t={})=>{const r=y(o,e)._f,n=r.refs?r.refs[0]:r.ref;n.focus(),t.shouldSelect&&n.select()},getFieldState:G}}function Ie(e={}){const t=o.useRef(),[r,n]=o.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current={...Ae(e),formState:r};const a=t.current.control,i=o.useCallback((e=>{T(e,a._proxyFormState,!0)&&(a._formState={...a._formState,...e},n({...a._formState}))}),[a]);return $({subject:a._subjects.state,callback:i}),o.useEffect((()=>{a._stateFlags.mount||(a._proxyFormState.isValid&&a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeUnmounted()})),t.current.formState=F(r,a._proxyFormState),t.current}function Pe(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{c(n.next(e))}catch(t){a(t)}}function u(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,u)}c((n=n.apply(e,t||[])).next())}))}function Re(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(u){a=[6,u],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var Le,Fe=function(){},De=Fe(),Te=Object,Ve=function(e){return e===De},Ue=function(e){return"function"==typeof e},$e=function(e,t){return Te.assign({},e,t)},Me="undefined",Ne=function(){return typeof window!=Me},qe=new WeakMap,ze=0,Be=function(e){var t,r,n=typeof e,o=e&&e.constructor,a=o==Date;if(Te(e)!==e||a||o==RegExp)t=a?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=qe.get(e))return t;if(t=++ze+"~",qe.set(e,t),o==Array){for(t="@",r=0;r<e.length;r++)t+=Be(e[r])+",";qe.set(e,t)}if(o==Te){t="#";for(var i=Te.keys(e).sort();!Ve(r=i.pop());)Ve(e[r])||(t+=r+":"+Be(e[r])+",");qe.set(e,t)}}return t},Ze=!0,Ge=Ne(),He=typeof document!=Me,We=Ge&&window.addEventListener?window.addEventListener.bind(window):Fe,Je=He?document.addEventListener.bind(document):Fe,Ye=Ge&&window.removeEventListener?window.removeEventListener.bind(window):Fe,Ke=He?document.removeEventListener.bind(document):Fe,Xe={isOnline:function(){return Ze},isVisible:function(){var e=He&&document.visibilityState;return Ve(e)||"hidden"!==e}},Qe={initFocus:function(e){return Je("visibilitychange",e),We("focus",e),function(){Ke("visibilitychange",e),Ye("focus",e)}},initReconnect:function(e){var t=function(){Ze=!0,e()},r=function(){Ze=!1};return We("online",t),We("offline",r),function(){Ye("online",t),Ye("offline",r)}}},et=!Ne()||"Deno"in window,tt=function(e){return Ne()&&typeof window.requestAnimationFrame!=Me?window.requestAnimationFrame(e):setTimeout(e,1)},rt=et?o.useEffect:o.useLayoutEffect,nt="undefined"!==typeof navigator&&navigator.connection,ot=!et&&nt&&(["slow-2g","2g"].includes(nt.effectiveType)||nt.saveData),at=function(e){if(Ue(e))try{e=e()}catch(r){e=""}var t=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?Be(e):"",t,e?"$swr$"+e:""]},it=new WeakMap,ut=function(e,t,r,n,o,a,i){void 0===i&&(i=!0);var u=it.get(e),c=u[0],s=u[1],l=u[3],f=c[t],d=s[t];if(i&&d)for(var p=0;p<d.length;++p)d[p](r,n,o);return a&&(delete l[t],f&&f[0])?f[0](2).then((function(){return e.get(t)})):e.get(t)},ct=0,st=function(){return++ct},lt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Pe(void 0,void 0,void 0,(function(){var t,r,n,o,a,i,u,c,s,l,f,d,p,h,y,v,m,g,b,w,_;return Re(this,(function(x){switch(x.label){case 0:if(t=e[0],r=e[1],n=e[2],o=e[3],i=!!Ve((a="boolean"===typeof o?{revalidate:o}:o||{}).populateCache)||a.populateCache,u=!1!==a.revalidate,c=!1!==a.rollbackOnError,s=a.optimisticData,l=at(r),f=l[0],d=l[2],!f)return[2];if(p=it.get(t),h=p[2],e.length<3)return[2,ut(t,f,t.get(f),De,De,u,!0)];if(y=n,m=st(),h[f]=[m,0],g=!Ve(s),b=t.get(f),g&&(w=Ue(s)?s(b):s,t.set(f,w),ut(t,f,w)),Ue(y))try{y=y(t.get(f))}catch(j){v=j}return y&&Ue(y.then)?[4,y.catch((function(e){v=e}))]:[3,2];case 1:if(y=x.sent(),m!==h[f][0]){if(v)throw v;return[2,y]}v&&g&&c&&(i=!0,y=b,t.set(f,b)),x.label=2;case 2:return i&&(v||(Ue(i)&&(y=i(y,b)),t.set(f,y)),t.set(d,$e(t.get(d),{error:v}))),h[f][1]=st(),[4,ut(t,f,y,v,De,u,!!i)];case 3:if(_=x.sent(),v)throw v;return[2,i?_:y]}}))}))},ft=function(e,t){for(var r in e)e[r][0]&&e[r][0](t)},dt=function(e,t){if(!it.has(e)){var r=$e(Qe,t),n={},o=lt.bind(De,e),a=Fe;if(it.set(e,[n,{},{},{},o]),!et){var i=r.initFocus(setTimeout.bind(De,ft.bind(De,n,0))),u=r.initReconnect(setTimeout.bind(De,ft.bind(De,n,1)));a=function(){i&&i(),u&&u(),it.delete(e)}}return[e,o,a]}return[e,it.get(e)[4]]},pt=dt(new Map),ht=pt[0],yt=pt[1],vt=$e({onLoadingSlow:Fe,onSuccess:Fe,onError:Fe,onErrorRetry:function(e,t,r,n,o){var a=r.errorRetryCount,i=o.retryCount,u=~~((Math.random()+.5)*(1<<(i<8?i:8)))*r.errorRetryInterval;!Ve(a)&&i>a||setTimeout(n,u,o)},onDiscarded:Fe,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:ot?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:ot?5e3:3e3,compare:function(e,t){return Be(e)==Be(t)},isPaused:function(){return!1},cache:ht,mutate:yt,fallback:{}},Xe),mt=function(e,t){var r=$e(e,t);if(t){var n=e.use,o=e.fallback,a=t.use,i=t.fallback;n&&a&&(r.use=n.concat(a)),o&&i&&(r.fallback=$e(o,i))}return r},gt=(0,o.createContext)({}),bt=function(e){return Ue(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},wt=function(){return $e(vt,(0,o.useContext)(gt))},_t=function(e,t,r){var n=t[e]||(t[e]=[]);return n.push(r),function(){var e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}},xt={dedupe:!0},jt=(Te.defineProperty((function(e){var t=e.value,r=mt((0,o.useContext)(gt),t),n=t&&t.provider,a=(0,o.useState)((function(){return n?dt(n(r.cache||ht),t):De}))[0];return a&&(r.cache=a[0],r.mutate=a[1]),rt((function(){return a?a[2]:De}),[]),(0,o.createElement)(gt.Provider,$e(e,{value:r}))}),"default",{value:vt}),Le=function(e,t,r){var n=r.cache,a=r.compare,i=r.fallbackData,u=r.suspense,c=r.revalidateOnMount,s=r.refreshInterval,l=r.refreshWhenHidden,f=r.refreshWhenOffline,d=it.get(n),p=d[0],h=d[1],y=d[2],v=d[3],m=at(e),g=m[0],b=m[1],w=m[2],_=(0,o.useRef)(!1),x=(0,o.useRef)(!1),j=(0,o.useRef)(g),O=(0,o.useRef)(t),S=(0,o.useRef)(r),E=function(){return S.current},k=function(){return E().isVisible()&&E().isOnline()},C=function(e){return n.set(w,$e(n.get(w),e))},A=n.get(g),I=Ve(i)?r.fallback[g]:i,P=Ve(A)?I:A,R=n.get(w)||{},L=R.error,F=!_.current,D=function(){return F&&!Ve(c)?c:!E().isPaused()&&(u?!Ve(P)&&r.revalidateIfStale:Ve(P)||r.revalidateIfStale)},T=!(!g||!t)&&(!!R.isValidating||F&&D()),V=function(e,t){var r=(0,o.useState)({})[1],n=(0,o.useRef)(e),a=(0,o.useRef)({data:!1,error:!1,isValidating:!1}),i=(0,o.useCallback)((function(e){var o=!1,i=n.current;for(var u in e){var c=u;i[c]!==e[c]&&(i[c]=e[c],a.current[c]&&(o=!0))}o&&!t.current&&r({})}),[]);return rt((function(){n.current=e})),[n,a.current,i]}({data:P,error:L,isValidating:T},x),U=V[0],$=V[1],M=V[2],N=(0,o.useCallback)((function(e){return Pe(void 0,void 0,void 0,(function(){var t,o,i,u,c,s,l,f,d,p,h,m,w;return Re(this,(function(S){switch(S.label){case 0:if(t=O.current,!g||!t||x.current||E().isPaused())return[2,!1];u=!0,c=e||{},s=!v[g]||!c.dedupe,l=function(){return!x.current&&g===j.current&&_.current},f=function(){var e=v[g];e&&e[1]===i&&delete v[g]},d={isValidating:!1},p=function(){C({isValidating:!1}),l()&&M(d)},C({isValidating:!0}),M({isValidating:!0}),S.label=1;case 1:return S.trys.push([1,3,,4]),s&&(ut(n,g,U.current.data,U.current.error,!0),r.loadingTimeout&&!n.get(g)&&setTimeout((function(){u&&l()&&E().onLoadingSlow(g,r)}),r.loadingTimeout),v[g]=[t.apply(void 0,b),st()]),w=v[g],o=w[0],i=w[1],[4,o];case 2:return o=S.sent(),s&&setTimeout(f,r.dedupingInterval),v[g]&&v[g][1]===i?(C({error:De}),d.error=De,h=y[g],!Ve(h)&&(i<=h[0]||i<=h[1]||0===h[1])?(p(),s&&l()&&E().onDiscarded(g),[2,!1]):(a(U.current.data,o)?d.data=U.current.data:d.data=o,a(n.get(g),o)||n.set(g,o),s&&l()&&E().onSuccess(o,g,r),[3,4])):(s&&l()&&E().onDiscarded(g),[2,!1]);case 3:return m=S.sent(),f(),E().isPaused()||(C({error:m}),d.error=m,s&&l()&&(E().onError(m,g,r),("boolean"===typeof r.shouldRetryOnError&&r.shouldRetryOnError||Ue(r.shouldRetryOnError)&&r.shouldRetryOnError(m))&&k()&&E().onErrorRetry(m,g,r,N,{retryCount:(c.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return u=!1,p(),l()&&s&&ut(n,g,d.data,d.error,!1),[2,!0]}}))}))}),[g]),q=(0,o.useCallback)(lt.bind(De,n,(function(){return j.current})),[]);if(rt((function(){O.current=t,S.current=r})),rt((function(){if(g){var e=g!==j.current,t=N.bind(De,xt),r=0,n=_t(g,h,(function(e,t,r){M($e({error:t,isValidating:r},a(U.current.data,e)?De:{data:e}))})),o=_t(g,p,(function(e){if(0==e){var n=Date.now();E().revalidateOnFocus&&n>r&&k()&&(r=n+E().focusThrottleInterval,t())}else if(1==e)E().revalidateOnReconnect&&k()&&t();else if(2==e)return N()}));return x.current=!1,j.current=g,_.current=!0,e&&M({data:P,error:L,isValidating:T}),D()&&(Ve(P)||et?t():tt(t)),function(){x.current=!0,n(),o()}}}),[g,N]),rt((function(){var e;function t(){var t=Ue(s)?s(P):s;t&&-1!==e&&(e=setTimeout(r,t))}function r(){U.current.error||!l&&!E().isVisible()||!f&&!E().isOnline()?t():N(xt).then(t)}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[s,l,f,N]),(0,o.useDebugValue)(P),u&&Ve(P)&&g)throw O.current=t,S.current=r,x.current=!1,Ve(L)?N(xt):L;return{mutate:q,get data(){return $.data=!0,P},get error(){return $.error=!0,L},get isValidating(){return $.isValidating=!0,T}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=wt(),n=bt(e),o=n[0],a=n[1],i=n[2],u=mt(r,i),c=Le,s=u.use;if(s)for(var l=s.length;l-- >0;)c=s[l](c);return c(o,a||u.fetcher,u)});function Ot(){return Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ot.apply(this,arguments)}var St=void 0;var Et=o.createContext(!1);if("undefined"!==typeof window){var kt=window,Ct=kt.__SWRMutateAllKeys;kt.__SWRMutateAllKeys=function(){!function(){if(St){var e=St,t=e.cache,r=e.mutate;Array.from(t.keys()).forEach((function(e){r(e)}))}}(),"function"===typeof Ct&&Ct()}}var At=r(1955);r(1296);function It(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(n,o)}function Pt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){It(a,n,o,i,u,"next",e)}function u(e){It(a,n,o,i,u,"throw",e)}i(void 0)}))}}function Rt(){return Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rt.apply(this,arguments)}function Lt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Dt(e,t)}function Ft(e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ft(e)}function Dt(e,t){return Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Dt(e,t)}function Tt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Vt(e,t,r){return Vt=Tt()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&Dt(o,r.prototype),o},Vt.apply(null,arguments)}function Ut(e){var t="function"===typeof Map?new Map:void 0;return Ut=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Vt(e,arguments,Ft(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Dt(r,e)},Ut(e)}function $t(e,t){return e(t={exports:{}},t.exports),t.exports}var Mt=$t((function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new C(n||[]);return a._invoke=function(e,t,r){var n=f;return function(o,a){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===o)throw a;return I()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var u=S(i,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?h:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(e,r,i),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function m(){}function g(){}var b={};c(b,a,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(A([])));_&&_!==r&&n.call(_,a)&&(b=_);var x=g.prototype=v.prototype=Object.create(b);function j(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(o,a,i,u){var c=l(e[o],e,a);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,u)}))}u(c.arg)}var o;this._invoke=function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}}function S(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=l(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var r=e[a];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return m.prototype=g,c(x,"constructor",g),c(g,"constructor",m),m.displayName=c(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},j(O.prototype),c(O.prototype,i,(function(){return this})),e.AsyncIterator=O,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new O(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},j(x),c(x,u,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return u.type="throw",u.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],u=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),Nt={id:"123456789",name:"Product name",description:"",descriptionHtml:"\n    <p>This is a <strong>placeholder</strong>.</p>\n  ",images:[{url:"https://static1.plasmic.app/commerce/lightweight-jacket-0.png",alt:"Lightweight Jacket"},{url:"https://static1.plasmic.app/commerce/lightweight-jacket-1.png",alt:"Lightweight Jacket"},{url:"https://static1.plasmic.app/commerce/lightweight-jacket-2.png",alt:"Lightweight Jacket"}],variants:[{id:"variant1",name:"Variant 1",options:[]},{id:"variant2",name:"Variant 2",options:[]}],price:{value:0,currencyCode:"USD"},options:[]},qt="currentProduct";function zt(e){var t=e.product,r=e.children,n=Ie();return o.createElement(a.DataProvider,{name:qt,data:t,key:t.id},o.createElement(L,Object.assign({},n),r))}var Bt=function(){var e=(0,a.useSelector)(qt);return null!=e?e:Nt},Zt=o.createContext(void 0),Gt="currentCategory";function Ht(e){var t=e.category,r=e.children;return o.createElement(a.DataProvider,{name:Gt,data:t,key:t.id},r)}var Wt=function(){return(0,a.useSelector)(Gt)},Jt="currentMedia";var Yt=["children"],Kt=(0,o.createContext)({});function Xt(e){var t=e.provider,r=e.children,n=(0,o.useRef)(t),a=(0,o.useRef)(t.fetcher),i=n.current,u=i.locale,c=i.cartCookie,s=(0,o.useMemo)((function(){return{providerRef:n,fetcherRef:a,locale:u,cartCookie:c}}),[u,c]);return o.createElement(Kt.Provider,{value:s},r)}function Qt(e){return function(t){var r=t.children,n=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,Yt);return o.createElement(Xt,{provider:Rt({},e,n)},r)}}function er(){return(0,o.useContext)(Kt)}var tr=function(e){function t(t){var r,n=t.message,o=t.code,a=t.errors,i=n?Rt({message:n},o?{code:o}:{}):a[0];return(r=e.call(this,i.message)||this).errors=n?[i]:a,i.code&&(r.code=i.code),r}return Lt(t,e),t}(Ut(Error)),rr=function(e){function t(t){var r;return(r=e.call(this,t)||this).code="validation_error",r}return Lt(t,e),t}(tr),nr=function(e,t,r,n,a){var i,u,c,s=Array.isArray(t)?t:Object.entries(t),l=function(){var t=Pt(Mt.mark((function t(n,o,i){var u,c,l,f=arguments;return Mt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(t.prev=0,u=f.length,c=new Array(u>3?u-3:0),l=3;l<u;l++)c[l-3]=f[l];return t.next=4,e.fetcher({options:{url:n,query:o,method:i},input:c.reduce((function(e,t,r){return e[s[r][0]]=t,e}),{}),fetch:r,provider:a});case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0 instanceof tr||console.error(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r,n){return t.apply(this,arguments)}}(),f=function(e,t,r){var n=o.useContext(Et)?{suspense:!0}:{},a=wt();return o.useEffect((function(){St=a}),[a]),jt(e,t,Ot({},r,n))}((function(){var t=e.fetchOptions;return t?[t.url,t.query,t.method].concat(s.map((function(e){return e[1]}))):null}),l,n);return"isLoading"in f||(i=f,u="isLoading",c={get:function(){return void 0===f.data},enumerable:!0},Object.defineProperty(i,u,c)),f};function or(){var e,t=er(),r=t.providerRef,n=t.fetcherRef;return null!=(e=r.current.fetcher)?e:n.current}function ar(){return er().providerRef.current}function ir(e){return e(er().providerRef.current)}function ur(e){var t=or(),r=ar();return e.useHook({useData:function(n){var o;return nr(e,null!=(o=null==n?void 0:n.input)?o:[],t,null==n?void 0:n.swrOptions,r)}})}function cr(e){var t=or(),r=ar();return e.useHook({fetch:(0,o.useCallback)((function(n){var o=(void 0===n?{}:n).input;return e.fetcher({input:o,options:e.fetchOptions,fetch:t,provider:r})}),[t,e.fetchOptions])})}var sr=function(e){var t=e.options;return(0,e.fetch)(t)},lr=function(e){var t=e.input,r=e.options;return(0,e.fetch)(Rt({},r,{body:t}))},fr=lr,dr=function(e){var t;return null==(t=e.cart)?void 0:t.useAddItem};function pr(e){var t=e.children,r=Bt(),n=R(),a=function(){var e=ir(dr);return cr(Rt({fetcher:fr},e)).apply(void 0,arguments)}(),i=function(){var e=Pt(Mt.mark((function e(){var t,o,i,u;return Mt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=+(null!=(t=n.getValues().ProductQuantity)?t:1),!(isNaN(o)||o<1)){e.next=3;break}throw new tr({message:"The item quantity has to be a valid integer greater than 0"});case 3:if(!r){e.next=7;break}return u=null!=(i=n.getValues().ProductVariant)?i:r.variants[0].id,e.next=7,a({productId:r.id,variantId:u,quantity:o});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.isValidElement(t)?o.cloneElement(t,{onClick:function(e){t.props.onClick&&"function"===typeof t.props.onClick&&t.props.onClick(e),i()}}):null}var hr=function(){var e=Pt(Mt.mark((function e(t){var r,n,o;return Mt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.options,n=t.input.cartId,o=t.fetch,!n){e.next=7;break}return e.next=4,o(r);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yr=function(e){var t;return null==(t=e.cart)?void 0:t.useCart},vr=function(e){var t,r=ir(yr),n=er().cartCookie,o=null!=(t=r.fetcher)?t:hr;return ur(Rt({},r,{fetcher:function(e){return e.input.cartId=At.Z.get(n),o(e)}}))(e)};function mr(e){var t=e.amount,r=e.currencyCode,n=e.locale;return new Intl.NumberFormat(n,{style:"currency",currency:r}).format(t)}function gr(e){var t=null!=e?e:{},r=t.amount,n=t.baseAmount,a=t.currencyCode,i=er().locale,u=(0,o.useMemo)((function(){return"number"===typeof r&&a?n?function(e){var t=e.amount,r=e.baseAmount,n=e.currencyCode,o=e.locale,a=r>t,i=new Intl.NumberFormat(o,{style:"percent"}),u=a?i.format((r-t)/r):null;return{price:mr({amount:t,currencyCode:n,locale:o}),basePrice:a?mr({amount:r,currencyCode:n,locale:o}):null,discount:u}}({amount:r,baseAmount:n,currencyCode:a,locale:i}):mr({amount:r,currencyCode:a,locale:i}):""}),[r,n,a]);return"string"===typeof u?{price:u}:u}function br(e){var t,r,n,a,i=e.className,u=e.field,c=e.hideIfIsEmpty,s=vr().data,l=gr({amount:null!=(t=null==s?void 0:s.totalPrice)?t:0,currencyCode:null!=(r=null==s?void 0:s.currency.code)?r:"USD"}).price;if(!u)return o.createElement("p",null,"You must set the field prop");"Size"===u?n=null!=(a=null==s?void 0:s.lineItems.length)?a:0:"Total Price"===u&&(n=null!=l?l:0);return c&&0===n?null:o.createElement("span",{className:i},n)}var wr=sr,_r=function(e){var t;return null==(t=e.site)?void 0:t.useCategories},xr=function(e){var t=ir(_r);return ur(Rt({fetcher:wr},t))(e)};function jr(e){var t,r=e.children,n=e.noLayout,i=e.noAutoRepeat,u=e.className,c=e.loadingMessage,s=e.emptyMessage,l=e.category,f=e.setControlContextData,d=o.useContext(a.PlasmicCanvasContext),p=xr(),h=p.data,y=p.isLoading,v=xr({categoryId:l,addIsEmptyField:!!d}),m=v.data,g=v.isLoading;h&&(null==f||f({categories:h}));var b=null==m?void 0:m.find((function(e){return!e.isEmpty})),w=null!=(t=null==m?void 0:m.findIndex((function(e){return!e.isEmpty})))?t:-1,_=i?r:null==m?void 0:m.map((function(e,t){return o.createElement(Ht,{category:e,key:e.id},(0,a.repeatedElement)(t<w?t+1:t===w?0:t,r))}));return[y,g].includes(!0)?o.isValidElement(c)?c:null:m&&0!==m.length?o.createElement(a.DataProvider,{name:"categories",data:m},o.createElement(Zt.Provider,{value:null!=b?b:m[0]},n?o.createElement(o.Fragment,null,_):o.createElement("div",{className:u},_))):o.isValidElement(s)?s:null}function Or(e){var t=e.className,r=e.field,n=Wt();if(!r)return o.createElement("span",null,"You must set the field prop");var a=n?n[r]:"Category field placeholder";return o.createElement("span",{className:t},a)}var Sr=sr,Er=function(e){var t;return null==(t=e.products)?void 0:t.useSearch},kr=function(e){var t=ir(Er);return ur(Rt({fetcher:Sr},t))(e)};var Cr=sr,Ar=function(e){var t;return null==(t=e.site)?void 0:t.useBrands};function Ir(e){var t,r=e.className,n=e.children,i=e.count,u=e.category,c=e.includeSubCategories,s=e.brand,l=e.noLayout,f=e.noAutoRepeat,d=e.setControlContextData,p=e.emptyMessage,h=e.loadingMessage,y=e.search,v=e.sort,m=xr(),g=m.data,b=m.isLoading,w=function(e){var t=ir(Ar);return ur(Rt({fetcher:Cr},t))(e)}(),_=w.data,x=w.isLoading,j=Wt(),O=kr({categoryId:null!=(t=null==j?void 0:j.id)?t:u,brandId:s,count:i,categories:null!=g?g:[],includeSubCategories:c,search:y,sort:v}),S=O.data,E=O.isLoading,k=er().providerRef.current.extraFeatures,C=(0,o.useContext)(Zt);g&&_&&(null==d||d({categories:g,brands:_,features:k,categoryCtx:C}));var A=f?n:null==S?void 0:S.products.map((function(e,t){return o.createElement(zt,{product:e,key:e.id},(0,a.repeatedElement)(t,n))}));return[E,x,b].includes(!0)?o.isValidElement(h)?h:null:S&&0!==S.products.length?o.createElement(a.DataProvider,{name:"products",data:null==S?void 0:S.products},l?o.createElement(o.Fragment,null,A):o.createElement("div",{className:r},A)):o.isValidElement(p)?p:null}var Pr=o.forwardRef((function(e,t){var r,n=e.className,i=e.mediaIndex,u=void 0===i?0:i,c=e.setControlContextData,s=Bt(),l=(0,a.useSelector)(Jt);null==c||c({inMediaContext:void 0!==l});var f=null==s?void 0:s.images[null!=l?l:u];return o.createElement("img",{ref:t,alt:(null==s?void 0:s.name)||"Product Image",src:s?null!=(r=null==f?void 0:f.url)?r:"":"https://static1.plasmic.app/commerce/lightweight-jacket-0.png",loading:"lazy",className:n})}));var Rr=function(e,t){var r,n;return null!=(r=null==(n=e.variants.find((function(e){return e.id===t})))?void 0:n.price)?r:e.price.value};function Lr(e){var t,r=e.className,n=Bt(),a=R(),i=null==a?void 0:a.watch("ProductVariant",null!=(t=n.price)?t:""),u=gr({amount:n?Rr(n,i):0,currencyCode:n?n.price.currencyCode:"USD"}).price;return o.createElement("span",{className:r},u)}function Fr(e){var t,r,n=e.className,a=e.field,i=Bt();return i?a?"description"===a?o.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:null!=(r=i.descriptionHtml)?r:i.description}}):(t=i[a],o.createElement("span",{className:n},t)):o.createElement("span",{className:n},"Unknown Product Field"):o.createElement("span",{className:n},"Fake Product Field")}function Dr(e){var t,r,n=e.className,a=Bt(),i=null!=(t=R())?t:Ie();return o.createElement(Z,{name:"ProductVariant",control:null==i?void 0:i.control,defaultValue:null==a||null==(r=a.variants.find((function(e){return e.price===a.price.value})))?void 0:r.id,render:function(e){var t,r=e.field;return o.createElement("select",Object.assign({className:n},r),null!=(t=null==a?void 0:a.variants.map((function(e){return o.createElement("option",{value:e.id},e.name)})))?t:o.createElement("option",null,"Product Variant Placeholder"))}})}},4301:function(e,t,r){r(6477),e.exports=self.fetch.bind(self)},1296:function(e,t,r){var n=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,s="object"==typeof self&&self&&self.Object===Object&&self,l=c||s||Function("return this")(),f=Object.prototype.toString,d=Math.max,p=Math.min,h=function(){return l.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var r=a.test(e);return r||i.test(e)?u(e.slice(2),r?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,r){var n,o,a,i,u,c,s=0,l=!1,f=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=n,a=o;return n=o=void 0,s=t,i=e.apply(a,r)}function b(e){return s=e,u=setTimeout(_,t),l?g(e):i}function w(e){var r=e-c;return void 0===c||r>=t||r<0||f&&e-s>=a}function _(){var e=h();if(w(e))return x(e);u=setTimeout(_,function(e){var r=t-(e-c);return f?p(r,a-(e-s)):r}(e))}function x(e){return u=void 0,m&&n?g(e):(n=o=void 0,i)}function j(){var e=h(),r=w(e);if(n=arguments,o=this,c=e,r){if(void 0===u)return b(c);if(f)return u=setTimeout(_,t),g(c)}return void 0===u&&(u=setTimeout(_,t)),i}return t=v(t)||0,y(r)&&(l=!!r.leading,a=(f="maxWait"in r)?d(v(r.maxWait)||0,t):a,m="trailing"in r?!!r.trailing:m),j.cancel=function(){void 0!==u&&clearTimeout(u),s=0,n=c=o=u=void 0},j.flush=function(){return void 0===u?i:x(h())},j}},6477:function(e,t){"use strict";t.Headers=self.Headers,t.Request=self.Request,t.Response=self.Response,t.fetch=self.fetch},1210:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,r,n){return!1};("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8418:function(e,t,r){"use strict";var n=r(4941).Z;r(5753).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=r(7294))&&o.__esModule?o:{default:o},i=r(6273),u=r(2725),c=r(3462),s=r(1018),l=r(7190),f=r(1210),d=r(8684);var p="undefined"!==typeof a.default.useTransition,h={};function y(e,t,r,n){if(e&&i.isLocalURL(t)){e.prefetch(t,r,n).catch((function(e){0}));var o=n&&"undefined"!==typeof n.locale?n.locale:e&&e.locale;h[t+"%"+r+(o?"%"+o:"")]=!0}}var v=a.default.forwardRef((function(e,t){var r,o=e.href,v=e.as,m=e.children,g=e.prefetch,b=e.passHref,w=e.replace,_=e.shallow,x=e.scroll,j=e.locale,O=e.onClick,S=e.onMouseEnter,E=e.legacyBehavior,k=void 0===E?!0!==Boolean(!1):E,C=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","legacyBehavior"]);r=m,!k||"string"!==typeof r&&"number"!==typeof r||(r=a.default.createElement("a",null,r));var A=!1!==g,I=n(p?a.default.useTransition():[],2)[1],P=a.default.useContext(c.RouterContext),R=a.default.useContext(s.AppRouterContext);R&&(P=R);var L,F=a.default.useMemo((function(){var e=n(i.resolveHref(P,o,!0),2),t=e[0],r=e[1];return{href:t,as:v?i.resolveHref(P,v):r||t}}),[P,o,v]),D=F.href,T=F.as,V=a.default.useRef(D),U=a.default.useRef(T);k&&(L=a.default.Children.only(r));var $=k?L&&"object"===typeof L&&L.ref:t,M=n(l.useIntersection({rootMargin:"200px"}),3),N=M[0],q=M[1],z=M[2],B=a.default.useCallback((function(e){U.current===T&&V.current===D||(z(),U.current=T,V.current=D),N(e),$&&("function"===typeof $?$(e):"object"===typeof $&&($.current=e))}),[T,$,D,z,N]);a.default.useEffect((function(){var e=q&&A&&i.isLocalURL(D),t="undefined"!==typeof j?j:P&&P.locale,r=h[D+"%"+T+(t?"%"+t:"")];e&&!r&&y(P,D,T,{locale:t})}),[T,D,q,j,A,P]);var Z={ref:B,onClick:function(e){k||"function"!==typeof O||O(e),k&&L.props&&"function"===typeof L.props.onClick&&L.props.onClick(e),e.defaultPrevented||function(e,t,r,n,o,a,u,c,s){if("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&i.isLocalURL(r)){e.preventDefault();var l=function(){t[o?"replace":"push"](r,n,{shallow:a,locale:c,scroll:u})};s?s(l):l()}}(e,P,D,T,w,_,x,j,R?I:void 0)},onMouseEnter:function(e){k||"function"!==typeof S||S(e),k&&L.props&&"function"===typeof L.props.onMouseEnter&&L.props.onMouseEnter(e),i.isLocalURL(D)&&y(P,D,T,{priority:!0})}};if(!k||b||"a"===L.type&&!("href"in L.props)){var G="undefined"!==typeof j?j:P&&P.locale,H=P&&P.isLocaleDomain&&f.getDomainLocale(T,G,P.locales,P.domainLocales);Z.href=H||d.addBasePath(u.addLocale(T,G,P&&P.defaultLocale))}return k?a.default.cloneElement(L,Z):a.default.createElement("a",Object.assign({},C,Z),r)}));t.default=v,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7190:function(e,t,r){"use strict";var n=r(4941).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,r=e.rootMargin,s=e.disabled||!i,l=o.useRef(),f=n(o.useState(!1),2),d=f[0],p=f[1],h=n(o.useState(null),2),y=h[0],v=h[1];o.useEffect((function(){if(i){if(l.current&&(l.current(),l.current=void 0),s||d)return;return y&&y.tagName&&(l.current=function(e,t,r){var n=function(e){var t,r={root:e.root||null,margin:e.rootMargin||""},n=c.find((function(e){return e.root===r.root&&e.margin===r.margin}));if(n&&(t=u.get(n)))return t;var o=new Map,a=new IntersectionObserver((function(e){e.forEach((function(e){var t=o.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;t&&r&&t(r)}))}),e);return t={id:r,observer:a,elements:o},c.push(r),u.set(r,t),t}(r),o=n.id,a=n.observer,i=n.elements;return i.set(e,t),a.observe(e),function(){if(i.delete(e),a.unobserve(e),0===i.size){a.disconnect(),u.delete(o);var t=c.findIndex((function(e){return e.root===o.root&&e.margin===o.margin}));t>-1&&c.splice(t,1)}}}(y,(function(e){return e&&p(e)}),{root:null==t?void 0:t.current,rootMargin:r})),function(){null==l.current||l.current(),l.current=void 0}}if(!d){var e=a.requestIdleCallback((function(){return p(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[y,s,r,t,d]);var m=o.useCallback((function(){p(!1)}),[]);return[v,d,m]};var o=r(7294),a=r(9311),i="function"===typeof IntersectionObserver;var u=new Map,c=[];("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&"undefined"===typeof t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1018:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullAppTreeContext=t.AppTreeContext=t.AppRouterContext=void 0;var n,o=(n=r(7294))&&n.__esModule?n:{default:n};var a=o.default.createContext(null);t.AppRouterContext=a;var i=o.default.createContext(null);t.AppTreeContext=i;var u=o.default.createContext(null);t.FullAppTreeContext=u},7575:function(){},1664:function(e,t,r){e.exports=r(8418)},6964:function(e,t,r){var n=r(1876).Buffer;e.exports=function(){"use strict";var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function a(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t};function u(e){var t=e.default;if("function"==typeof t){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var c="undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},s="object"==typeof c&&c&&c.Object===Object&&c;e.exports=s;var l,f=u(Object.freeze({__proto__:null})),d=f,p="object"==typeof self&&self&&self.Object===Object&&self,h=d||p||Function("return this")(),y=h.Symbol,m=y,g=Object.prototype,b=g.hasOwnProperty,w=g.toString,_=m?m.toStringTag:void 0,x=function(e){var t=b.call(e,_),r=e[_];try{e[_]=void 0;var n=!0}catch(e){}var o=w.call(e);return n&&(t?e[_]=r:delete e[_]),o},j=Object.prototype.toString,O=x,S=function(e){return j.call(e)},E=y?y.toStringTag:void 0,k=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":E&&E in Object(e)?O(e):S(e)},C=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},A=k,I=C,P=function(e){if(!I(e))return!1;var t=A(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},R=h["__core-js_shared__"],L=(l=/[^.]+$/.exec(R&&R.keys&&R.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",F=function(e){return!!L&&L in e},D=Function.prototype.toString,T=function(e){if(null!=e){try{return D.call(e)}catch(e){}try{return e+""}catch(e){}}return""},V=P,U=F,$=C,M=T,N=/^\[object .+?Constructor\]$/,q=Function.prototype,z=Object.prototype,B=q.toString,Z=z.hasOwnProperty,G=RegExp("^"+B.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=function(e,t){return null==e?void 0:e[t]},W=function(e){return!(!$(e)||U(e))&&(V(e)?G:N).test(M(e))},J=H,Y=function(e,t){var r=J(e,t);return W(r)?r:void 0},K=Y,X=function(){try{var e=K(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Q=function(e,t,r){"__proto__"==t&&X?X(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},ee=function(e,t){return e===t||e!=e&&t!=t},te=Q,re=ee,ne=Object.prototype.hasOwnProperty,oe=function(e,t,r){var n=e[t];ne.call(e,t)&&re(n,r)&&(void 0!==r||t in e)||te(e,t,r)},ae=Array.isArray,ie=function(e){return null!=e&&"object"==typeof e},ue=k,ce=ie,se=function(e){return"symbol"==typeof e||ce(e)&&"[object Symbol]"==ue(e)},le=ae,fe=se,de=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pe=/^\w*$/,he=function(e,t){if(le(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!fe(e))||pe.test(e)||!de.test(e)||null!=t&&e in Object(t)},ye=Y(Object,"create"),ve=ye,me=function(){this.__data__=ve?ve(null):{},this.size=0},ge=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},be=ye,we=Object.prototype.hasOwnProperty,_e=function(e){var t=this.__data__;if(be){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return we.call(t,e)?t[e]:void 0},xe=ye,je=Object.prototype.hasOwnProperty,Oe=ye,Se=me,Ee=ge,ke=_e,Ce=function(e){var t=this.__data__;return xe?void 0!==t[e]:je.call(t,e)},Ae=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Oe&&void 0===t?"__lodash_hash_undefined__":t,this};function Ie(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ie.prototype.clear=Se,Ie.prototype.delete=Ee,Ie.prototype.get=ke,Ie.prototype.has=Ce,Ie.prototype.set=Ae;var Pe=Ie,Re=function(){this.__data__=[],this.size=0},Le=ee,Fe=function(e,t){for(var r=e.length;r--;)if(Le(e[r][0],t))return r;return-1},De=Fe,Te=Array.prototype.splice,Ve=Fe,Ue=Fe,$e=Fe,Me=Re,Ne=function(e){var t=this.__data__,r=De(t,e);return!(r<0)&&(r==t.length-1?t.pop():Te.call(t,r,1),--this.size,!0)},qe=function(e){var t=this.__data__,r=Ve(t,e);return r<0?void 0:t[r][1]},ze=function(e){return Ue(this.__data__,e)>-1},Be=function(e,t){var r=this.__data__,n=$e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Ze(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ze.prototype.clear=Me,Ze.prototype.delete=Ne,Ze.prototype.get=qe,Ze.prototype.has=ze,Ze.prototype.set=Be;var Ge=Ze,He=Y(h,"Map"),We=Pe,Je=Ge,Ye=He,Ke=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Xe=function(e,t){var r=e.__data__;return Ke(t)?r["string"==typeof t?"string":"hash"]:r.map},Qe=Xe,et=Xe,tt=Xe,rt=Xe,nt=function(){this.size=0,this.__data__={hash:new We,map:new(Ye||Je),string:new We}},ot=function(e){var t=Qe(this,e).delete(e);return this.size-=t?1:0,t},at=function(e){return et(this,e).get(e)},it=function(e){return tt(this,e).has(e)},ut=function(e,t){var r=rt(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function ct(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ct.prototype.clear=nt,ct.prototype.delete=ot,ct.prototype.get=at,ct.prototype.has=it,ct.prototype.set=ut;var st=ct,lt=st;function ft(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(ft.Cache||lt),r}ft.Cache=lt;var dt=ft,pt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ht=/\\(\\)?/g,yt=function(e){var t=dt(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(pt,(function(e,r,n,o){t.push(n?o.replace(ht,"$1"):r||e)})),t})),vt=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},mt=vt,gt=ae,bt=se,wt=y?y.prototype:void 0,_t=wt?wt.toString:void 0,xt=function e(t){if("string"==typeof t)return t;if(gt(t))return mt(t,e)+"";if(bt(t))return _t?_t.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},jt=xt,Ot=function(e){return null==e?"":jt(e)},St=ae,Et=he,kt=yt,Ct=Ot,At=function(e,t){return St(e)?e:Et(e,t)?[e]:kt(Ct(e))},It=/^(?:0|[1-9]\d*)$/,Pt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&It.test(e))&&e>-1&&e%1==0&&e<t},Rt=se,Lt=function(e){if("string"==typeof e||Rt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Ft=oe,Dt=At,Tt=Pt,Vt=C,Ut=Lt,$t=function(e,t,r,n){if(!Vt(e))return e;for(var o=-1,a=(t=Dt(t,e)).length,i=a-1,u=e;null!=u&&++o<a;){var c=Ut(t[o]),s=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=i){var l=u[c];void 0===(s=n?n(l,c,u):void 0)&&(s=Vt(l)?l:Tt(t[o+1])?[]:{})}Ft(u,c,s),u=u[c]}return e},Mt=$t,Nt=function(e,t,r){return null==e?e:Mt(e,t,r)},qt=At,zt=Lt,Bt=function(e,t){for(var r=0,n=(t=qt(t,e)).length;null!=e&&r<n;)e=e[zt(t[r++])];return r&&r==n?e:void 0},Zt=Bt,Gt=function(e,t,r){var n=null==e?void 0:Zt(e,t);return void 0===n?r:n},Ht=st,Wt=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Jt=function(e){return this.__data__.has(e)};function Yt(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ht;++t<r;)this.add(e[t])}Yt.prototype.add=Yt.prototype.push=Wt,Yt.prototype.has=Jt;var Kt=Yt,Xt=function(e,t,r,n){for(var o=e.length,a=r+(n?1:-1);n?a--:++a<o;)if(t(e[a],a,e))return a;return-1},Qt=Xt,er=function(e){return e!=e},tr=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1},rr=function(e,t,r){return t==t?tr(e,t,r):Qt(e,er,r)},nr=function(e,t){return!(null==e||!e.length)&&rr(e,t,0)>-1},or=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1},ar=function(e,t){return e.has(t)},ir=Y(h,"Set"),ur=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},cr=ir,sr=function(){},lr=cr&&1/ur(new cr([,-0]))[1]==1/0?function(e){return new cr(e)}:sr,fr=Kt,dr=nr,pr=or,hr=ar,yr=lr,vr=ur,mr=function(e,t,r){var n=-1,o=dr,a=e.length,i=!0,u=[],c=u;if(r)i=!1,o=pr;else if(a>=200){var s=t?null:yr(e);if(s)return vr(s);i=!1,o=hr,c=new fr}else c=t?[]:u;e:for(;++n<a;){var l=e[n],f=t?t(l):l;if(l=r||0!==l?l:0,i&&f==f){for(var d=c.length;d--;)if(c[d]===f)continue e;t&&c.push(f),u.push(l)}else o(c,f,r)||(c!==u&&c.push(f),u.push(l))}return u},gr=mr,br=function(e){return e&&e.length?gr(e):[]},wr=Ge,_r=Ge,xr=He,jr=st,Or=Ge,Sr=function(){this.__data__=new wr,this.size=0},Er=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},kr=function(e){return this.__data__.get(e)},Cr=function(e){return this.__data__.has(e)},Ar=function(e,t){var r=this.__data__;if(r instanceof _r){var n=r.__data__;if(!xr||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new jr(n)}return r.set(e,t),this.size=r.size,this};function Ir(e){var t=this.__data__=new Or(e);this.size=t.size}Ir.prototype.clear=Sr,Ir.prototype.delete=Er,Ir.prototype.get=kr,Ir.prototype.has=Cr,Ir.prototype.set=Ar;var Pr=Ir,Rr=Kt,Lr=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},Fr=ar,Dr=function(e,t,r,n,o,a){var i=1&r,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;var s=a.get(e),l=a.get(t);if(s&&l)return s==t&&l==e;var f=-1,d=!0,p=2&r?new Rr:void 0;for(a.set(e,t),a.set(t,e);++f<u;){var h=e[f],y=t[f];if(n)var v=i?n(y,h,f,t,e,a):n(h,y,f,e,t,a);if(void 0!==v){if(v)continue;d=!1;break}if(p){if(!Lr(t,(function(e,t){if(!Fr(p,t)&&(h===e||o(h,e,r,n,a)))return p.push(t)}))){d=!1;break}}else if(h!==y&&!o(h,y,r,n,a)){d=!1;break}}return a.delete(e),a.delete(t),d},Tr=h.Uint8Array,Vr=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},Ur=Tr,$r=ee,Mr=Dr,Nr=Vr,qr=ur,zr=y?y.prototype:void 0,Br=zr?zr.valueOf:void 0,Zr=function(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Ur(e),new Ur(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Nr;case"[object Set]":var c=1&n;if(u||(u=qr),e.size!=t.size&&!c)return!1;var s=i.get(e);if(s)return s==t;n|=2,i.set(e,t);var l=Mr(u(e),u(t),n,o,a,i);return i.delete(e),l;case"[object Symbol]":if(Br)return Br.call(e)==Br.call(t)}return!1},Gr=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},Hr=Gr,Wr=ae,Jr=function(e,t,r){var n=t(e);return Wr(e)?n:Hr(n,r(e))},Yr=function(){return[]},Kr=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a},Xr=Yr,Qr=Object.prototype.propertyIsEnumerable,en=Object.getOwnPropertySymbols,tn=en?function(e){return null==e?[]:(e=Object(e),Kr(en(e),(function(t){return Qr.call(e,t)})))}:Xr,rn=tn,nn=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},on=k,an=ie,un=function(e){return an(e)&&"[object Arguments]"==on(e)},cn=ie,sn=Object.prototype,ln=sn.hasOwnProperty,fn=sn.propertyIsEnumerable,dn=un(function(){return arguments}())?un:function(e){return cn(e)&&ln.call(e,"callee")&&!fn.call(e,"callee")},pn=dn,hn={exports:{}},yn=function(){return!1};!function(e,t){var r=h,n=yn,o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,i=a&&a.exports===o?r.Buffer:void 0,u=(i?i.isBuffer:void 0)||n;e.exports=u}(hn,hn.exports);var vn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},mn=k,gn=vn,bn=ie,wn={};wn["[object Float32Array]"]=wn["[object Float64Array]"]=wn["[object Int8Array]"]=wn["[object Int16Array]"]=wn["[object Int32Array]"]=wn["[object Uint8Array]"]=wn["[object Uint8ClampedArray]"]=wn["[object Uint16Array]"]=wn["[object Uint32Array]"]=!0,wn["[object Arguments]"]=wn["[object Array]"]=wn["[object ArrayBuffer]"]=wn["[object Boolean]"]=wn["[object DataView]"]=wn["[object Date]"]=wn["[object Error]"]=wn["[object Function]"]=wn["[object Map]"]=wn["[object Number]"]=wn["[object Object]"]=wn["[object RegExp]"]=wn["[object Set]"]=wn["[object String]"]=wn["[object WeakMap]"]=!1;var _n=function(e){return bn(e)&&gn(e.length)&&!!wn[mn(e)]},xn=function(e){return function(t){return e(t)}},jn={exports:{}};!function(e,t){var r=f,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,a=o&&o.exports===n&&r.process,i=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i}(jn,jn.exports);var On=_n,Sn=xn,En=jn.exports,kn=En&&En.isTypedArray,Cn=kn?Sn(kn):On,An=nn,In=pn,Pn=ae,Rn=hn.exports,Ln=Pt,Fn=Cn,Dn=Object.prototype.hasOwnProperty,Tn=function(e,t){var r=Pn(e),n=!r&&In(e),o=!r&&!n&&Rn(e),a=!r&&!n&&!o&&Fn(e),i=r||n||o||a,u=i?An(e.length,String):[],c=u.length;for(var s in e)!t&&!Dn.call(e,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ln(s,c))||u.push(s);return u},Vn=Object.prototype,Un=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Vn)},$n=function(e,t){return function(r){return e(t(r))}},Mn=$n(Object.keys,Object),Nn=Un,qn=Mn,zn=Object.prototype.hasOwnProperty,Bn=function(e){if(!Nn(e))return qn(e);var t=[];for(var r in Object(e))zn.call(e,r)&&"constructor"!=r&&t.push(r);return t},Zn=P,Gn=vn,Hn=function(e){return null!=e&&Gn(e.length)&&!Zn(e)},Wn=Tn,Jn=Bn,Yn=Hn,Kn=function(e){return Yn(e)?Wn(e):Jn(e)},Xn=Jr,Qn=rn,eo=Kn,to=function(e){return Xn(e,eo,Qn)},ro=to,no=Object.prototype.hasOwnProperty,oo=function(e,t,r,n,o,a){var i=1&r,u=ro(e),c=u.length;if(c!=ro(t).length&&!i)return!1;for(var s=c;s--;){var l=u[s];if(!(i?l in t:no.call(t,l)))return!1}var f=a.get(e),d=a.get(t);if(f&&d)return f==t&&d==e;var p=!0;a.set(e,t),a.set(t,e);for(var h=i;++s<c;){var y=e[l=u[s]],v=t[l];if(n)var m=i?n(v,y,l,t,e,a):n(y,v,l,e,t,a);if(!(void 0===m?y===v||o(y,v,r,n,a):m)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var g=e.constructor,b=t.constructor;g==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p},ao=Y(h,"DataView"),io=He,uo=Y(h,"Promise"),co=ir,so=Y(h,"WeakMap"),lo=k,fo=T,po="[object Map]",ho="[object Promise]",yo="[object Set]",vo="[object WeakMap]",mo="[object DataView]",go=fo(ao),bo=fo(io),wo=fo(uo),_o=fo(co),xo=fo(so),jo=lo;(ao&&jo(new ao(new ArrayBuffer(1)))!=mo||io&&jo(new io)!=po||uo&&jo(uo.resolve())!=ho||co&&jo(new co)!=yo||so&&jo(new so)!=vo)&&(jo=function(e){var t=lo(e),r="[object Object]"==t?e.constructor:void 0,n=r?fo(r):"";if(n)switch(n){case go:return mo;case bo:return po;case wo:return ho;case _o:return yo;case xo:return vo}return t});var Oo=jo,So=Pr,Eo=Dr,ko=Zr,Co=oo,Ao=Oo,Io=ae,Po=hn.exports,Ro=Cn,Lo="[object Arguments]",Fo="[object Array]",Do="[object Object]",To=Object.prototype.hasOwnProperty,Vo=function(e,t,r,n,o,a){var i=Io(e),u=Io(t),c=i?Fo:Ao(e),s=u?Fo:Ao(t),l=(c=c==Lo?Do:c)==Do,f=(s=s==Lo?Do:s)==Do,d=c==s;if(d&&Po(e)){if(!Po(t))return!1;i=!0,l=!1}if(d&&!l)return a||(a=new So),i||Ro(e)?Eo(e,t,r,n,o,a):ko(e,t,c,r,n,o,a);if(!(1&r)){var p=l&&To.call(e,"__wrapped__"),h=f&&To.call(t,"__wrapped__");if(p||h){var y=p?e.value():e,v=h?t.value():t;return a||(a=new So),o(y,v,r,n,a)}}return!!d&&(a||(a=new So),Co(e,t,r,n,o,a))},Uo=Vo,$o=ie,Mo=function e(t,r,n,o,a){return t===r||(null==t||null==r||!$o(t)&&!$o(r)?t!=t&&r!=r:Uo(t,r,n,o,e,a))},No=Pr,qo=Mo,zo=function(e,t,r,n){var o=r.length,a=o,i=!n;if(null==e)return!a;for(e=Object(e);o--;){var u=r[o];if(i&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=r[o])[0],s=e[c],l=u[1];if(i&&u[2]){if(void 0===s&&!(c in e))return!1}else{var f=new No;if(n)var d=n(s,l,c,e,t,f);if(!(void 0===d?qo(l,s,3,n,f):d))return!1}}return!0},Bo=C,Zo=function(e){return e==e&&!Bo(e)},Go=Zo,Ho=Kn,Wo=function(e){for(var t=Ho(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Go(o)]}return t},Jo=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},Yo=zo,Ko=Wo,Xo=Jo,Qo=function(e){var t=Ko(e);return 1==t.length&&t[0][2]?Xo(t[0][0],t[0][1]):function(r){return r===e||Yo(r,e,t)}},ea=function(e,t){return null!=e&&t in Object(e)},ta=At,ra=pn,na=ae,oa=Pt,aa=vn,ia=Lt,ua=function(e,t,r){for(var n=-1,o=(t=ta(t,e)).length,a=!1;++n<o;){var i=ia(t[n]);if(!(a=null!=e&&r(e,i)))break;e=e[i]}return a||++n!=o?a:!!(o=null==e?0:e.length)&&aa(o)&&oa(i,o)&&(na(e)||ra(e))},ca=ea,sa=ua,la=function(e,t){return null!=e&&sa(e,t,ca)},fa=Mo,da=Gt,pa=la,ha=he,ya=Zo,va=Jo,ma=Lt,ga=function(e,t){return ha(e)&&ya(t)?va(ma(e),t):function(r){var n=da(r,e);return void 0===n&&n===t?pa(r,e):fa(t,n,3)}},ba=function(e){return function(t){return null==t?void 0:t[e]}},wa=Bt,_a=function(e){return function(t){return wa(t,e)}},xa=ba,ja=_a,Oa=he,Sa=Lt,Ea=Qo,ka=ga,Ca=function(e){return e},Aa=ae,Ia=function(e){return Oa(e)?xa(Sa(e)):ja(e)},Pa=function(e){return"function"==typeof e?e:null==e?Ca:"object"==typeof e?Aa(e)?ka(e[0],e[1]):Ea(e):Ia(e)},Ra=Pa,La=Hn,Fa=Kn,Da=function(e){return function(t,r,n){var o=Object(t);if(!La(t)){var a=Ra(r);t=Fa(t),r=function(e){return a(o[e],e,o)}}var i=e(t,r,n);return i>-1?o[a?t[i]:i]:void 0}},Ta=/\s/,Va=function(e){for(var t=e.length;t--&&Ta.test(e.charAt(t)););return t},Ua=/^\s+/,$a=function(e){return e?e.slice(0,Va(e)+1).replace(Ua,""):e},Ma=C,Na=se,qa=/^[-+]0x[0-9a-f]+$/i,za=/^0b[01]+$/i,Ba=/^0o[0-7]+$/i,Za=parseInt,Ga=function(e){if("number"==typeof e)return e;if(Na(e))return NaN;if(Ma(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Ma(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$a(e);var r=za.test(e);return r||Ba.test(e)?Za(e.slice(2),r?2:8):qa.test(e)?NaN:+e},Ha=Ga,Wa=1/0,Ja=function(e){return e?(e=Ha(e))===Wa||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},Ya=function(e){var t=Ja(e),r=t%1;return t==t?r?t-r:t:0},Ka=Xt,Xa=Pa,Qa=Ya,ei=Math.max,ti=Da((function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:Qa(r);return o<0&&(o=ei(n+o,0)),Ka(e,Xa(t),o)})),ri=Ya,ni=Ga,oi=Ot,ai=h.isFinite,ii=Math.min,ui=function(e){var t=Math[e];return function(e,r){if(e=ni(e),(r=null==r?0:ii(ri(r),292))&&ai(e)){var n=(oi(e)+"e").split("e"),o=t(n[0]+"e"+(+n[1]+r));return+((n=(oi(o)+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}},ci=ui("round"),si=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a},li=function(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:si(e,t,r)},fi=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),di=function(e){return fi.test(e)},pi=function(e){return e.split("")},hi="[\\ud800-\\udfff]",yi="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",vi="\\ud83c[\\udffb-\\udfff]",mi="[^\\ud800-\\udfff]",gi="(?:\\ud83c[\\udde6-\\uddff]){2}",bi="[\\ud800-\\udbff][\\udc00-\\udfff]",wi="(?:"+yi+"|"+vi+")?",_i="[\\ufe0e\\ufe0f]?",xi=_i+wi+"(?:\\u200d(?:"+[mi,gi,bi].join("|")+")"+_i+wi+")*",ji="(?:"+[mi+yi+"?",yi,gi,bi,hi].join("|")+")",Oi=RegExp(vi+"(?="+vi+")|"+ji+xi,"g"),Si=pi,Ei=di,ki=function(e){return e.match(Oi)||[]},Ci=li,Ai=di,Ii=function(e){return Ei(e)?ki(e):Si(e)},Pi=Ot,Ri=function(e){return function(t){t=Pi(t);var r=Ai(t)?Ii(t):void 0,n=r?r[0]:t.charAt(0),o=r?Ci(r,1).join(""):t.slice(1);return n[e]()+o}},Li=Ri("toUpperCase"),Fi=Ot,Di=Li,Ti=function(e){return Di(Fi(e).toLowerCase())},Vi=function(e,t,r,n){var o=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++o]);++o<a;)r=t(r,e[o],o,e);return r},Ui=function(e){return function(t){return null==e?void 0:e[t]}},$i=Ui({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Mi=Ot,Ni=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qi=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),zi=function(e){return(e=Mi(e))&&e.replace(Ni,$i).replace(qi,"")},Bi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zi=function(e){return e.match(Bi)||[]},Gi=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hi=function(e){return Gi.test(e)},Wi="a-z\\xdf-\\xf6\\xf8-\\xff",Ji="A-Z\\xc0-\\xd6\\xd8-\\xde",Yi="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ki="["+Yi+"]",Xi="\\d+",Qi="[\\u2700-\\u27bf]",eu="["+Wi+"]",tu="[^\\ud800-\\udfff"+Yi+Xi+"\\u2700-\\u27bf"+Wi+Ji+"]",ru="(?:\\ud83c[\\udde6-\\uddff]){2}",nu="[\\ud800-\\udbff][\\udc00-\\udfff]",ou="["+Ji+"]",au="(?:"+eu+"|"+tu+")",iu="(?:"+ou+"|"+tu+")",uu="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",cu="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",su="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",lu="[\\ufe0e\\ufe0f]?",fu=lu+su+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",ru,nu].join("|")+")"+lu+su+")*",du="(?:"+[Qi,ru,nu].join("|")+")"+fu,pu=RegExp([ou+"?"+eu+"+"+uu+"(?="+[Ki,ou,"$"].join("|")+")",iu+"+"+cu+"(?="+[Ki,ou+au,"$"].join("|")+")",ou+"?"+au+"+"+uu,ou+"+"+cu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xi,du].join("|"),"g"),hu=Zi,yu=Hi,vu=Ot,mu=function(e){return e.match(pu)||[]},gu=Vi,bu=zi,wu=function(e,t,r){return e=vu(e),void 0===(t=r?void 0:t)?yu(e)?mu(e):hu(e):e.match(t)||[]},_u=RegExp("['\u2019]","g"),xu=function(e){return function(t){return gu(wu(bu(t).replace(_u,"")),e,"")}},ju=Ti,Ou=xu((function(e,t,r){return t=t.toLowerCase(),e+(r?ju(t):t)})),Su=xu((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Eu=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},ku=oe,Cu=Q,Au=function(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var u=t[a],c=n?n(r[u],e[u],u,r,e):void 0;void 0===c&&(c=e[u]),o?Cu(r,u,c):ku(r,u,c)}return r},Iu=Au,Pu=Kn,Ru=function(e,t){return e&&Iu(t,Pu(t),e)},Lu=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Fu=C,Du=Un,Tu=Lu,Vu=Object.prototype.hasOwnProperty,Uu=function(e){if(!Fu(e))return Tu(e);var t=Du(e),r=[];for(var n in e)("constructor"!=n||!t&&Vu.call(e,n))&&r.push(n);return r},$u=Tn,Mu=Uu,Nu=Hn,qu=function(e){return Nu(e)?$u(e,!0):Mu(e)},zu=Au,Bu=qu,Zu=function(e,t){return e&&zu(t,Bu(t),e)},Gu={exports:{}};!function(e,t){var r=h,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,a=o&&o.exports===n?r.Buffer:void 0,i=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=i?i(r):new e.constructor(r);return e.copy(n),n}}(Gu,Gu.exports);var Hu=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},Wu=Au,Ju=rn,Yu=function(e,t){return Wu(e,Ju(e),t)},Ku=$n(Object.getPrototypeOf,Object),Xu=Gr,Qu=Ku,ec=rn,tc=Yr,rc=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Xu(t,ec(e)),e=Qu(e);return t}:tc,nc=Au,oc=rc,ac=function(e,t){return nc(e,oc(e),t)},ic=Jr,uc=rc,cc=qu,sc=function(e){return ic(e,cc,uc)},lc=Object.prototype.hasOwnProperty,fc=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&lc.call(e,"index")&&(r.index=e.index,r.input=e.input),r},dc=Tr,pc=function(e){var t=new e.constructor(e.byteLength);return new dc(t).set(new dc(e)),t},hc=pc,yc=function(e,t){var r=t?hc(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},vc=/\w*$/,mc=function(e){var t=new e.constructor(e.source,vc.exec(e));return t.lastIndex=e.lastIndex,t},gc=y?y.prototype:void 0,bc=gc?gc.valueOf:void 0,wc=pc,_c=pc,xc=yc,jc=mc,Oc=function(e){return bc?Object(bc.call(e)):{}},Sc=function(e,t){var r=t?wc(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},Ec=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return _c(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return xc(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Sc(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return jc(e);case"[object Symbol]":return Oc(e)}},kc=C,Cc=Object.create,Ac=function(){function e(){}return function(t){if(!kc(t))return{};if(Cc)return Cc(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Ic=Ac,Pc=Ku,Rc=Un,Lc=function(e){return"function"!=typeof e.constructor||Rc(e)?{}:Ic(Pc(e))},Fc=Oo,Dc=ie,Tc=function(e){return Dc(e)&&"[object Map]"==Fc(e)},Vc=xn,Uc=jn.exports,$c=Uc&&Uc.isMap,Mc=$c?Vc($c):Tc,Nc=Oo,qc=ie,zc=function(e){return qc(e)&&"[object Set]"==Nc(e)},Bc=xn,Zc=jn.exports,Gc=Zc&&Zc.isSet,Hc=Gc?Bc(Gc):zc,Wc=Pr,Jc=Eu,Yc=oe,Kc=Ru,Xc=Zu,Qc=Gu.exports,es=Hu,ts=Yu,rs=ac,ns=to,os=sc,as=Oo,is=fc,us=Ec,cs=Lc,ss=ae,ls=hn.exports,fs=Mc,ds=C,ps=Hc,hs=Kn,ys=qu,vs="[object Arguments]",ms="[object Function]",gs="[object Object]",bs={};bs[vs]=bs["[object Array]"]=bs["[object ArrayBuffer]"]=bs["[object DataView]"]=bs["[object Boolean]"]=bs["[object Date]"]=bs["[object Float32Array]"]=bs["[object Float64Array]"]=bs["[object Int8Array]"]=bs["[object Int16Array]"]=bs["[object Int32Array]"]=bs["[object Map]"]=bs["[object Number]"]=bs[gs]=bs["[object RegExp]"]=bs["[object Set]"]=bs["[object String]"]=bs["[object Symbol]"]=bs["[object Uint8Array]"]=bs["[object Uint8ClampedArray]"]=bs["[object Uint16Array]"]=bs["[object Uint32Array]"]=!0,bs["[object Error]"]=bs[ms]=bs["[object WeakMap]"]=!1;var ws=function e(t,r,n,o,a,i){var u,c=1&r,s=2&r,l=4&r;if(n&&(u=a?n(t,o,a,i):n(t)),void 0!==u)return u;if(!ds(t))return t;var f=ss(t);if(f){if(u=is(t),!c)return es(t,u)}else{var d=as(t),p=d==ms||"[object GeneratorFunction]"==d;if(ls(t))return Qc(t,c);if(d==gs||d==vs||p&&!a){if(u=s||p?{}:cs(t),!c)return s?rs(t,Xc(u,t)):ts(t,Kc(u,t))}else{if(!bs[d])return a?t:{};u=us(t,d,c)}}i||(i=new Wc);var h=i.get(t);if(h)return h;i.set(t,u),ps(t)?t.forEach((function(o){u.add(e(o,r,n,o,t,i))})):fs(t)&&t.forEach((function(o,a){u.set(a,e(o,r,n,a,t,i))}));var y=f?void 0:(l?s?os:ns:s?ys:hs)(t);return Jc(y||t,(function(o,a){y&&(o=t[a=o]),Yc(u,a,e(o,r,n,a,t,i))})),u},_s=ws,xs=function(e){return _s(e,5)},js=Mo,Os=function(e,t){return js(e,t)},Ss=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Es}(e)}(e)},Es="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function ks(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Rs((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function Cs(e,t,r){return e.concat(t).map((function(e){return ks(e,r)}))}function As(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function Is(e,t){try{return t in e}catch(e){return!1}}function Ps(e,t,r){var n={};return r.isMergeableObject(e)&&As(e).forEach((function(t){n[t]=ks(e[t],r)})),As(t).forEach((function(o){(function(e,t){return Is(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(Is(e,o)&&r.isMergeableObject(t[o])?n[o]=function(e,t){if(!t.customMerge)return Rs;var r=t.customMerge(e);return"function"==typeof r?r:Rs}(o,r)(e[o],t[o],r):n[o]=ks(t[o],r))})),n}function Rs(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||Cs,r.isMergeableObject=r.isMergeableObject||Ss,r.cloneUnlessOtherwiseSpecified=ks;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):Ps(e,t,r):ks(t,r)}Rs.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return Rs(e,r,t)}),{})};var Ls,Fs=Rs,Ds="[object Symbol]",Ts=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Vs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Us="a-z\\xdf-\\xf6\\xf8-\\xff",$s="A-Z\\xc0-\\xd6\\xd8-\\xde",Ms="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ns="['\u2019]",qs="[\\ud800-\\udfff]",zs="["+Ms+"]",Bs="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",Zs="\\d+",Gs="[\\u2700-\\u27bf]",Hs="["+Us+"]",Ws="[^\\ud800-\\udfff"+Ms+Zs+"\\u2700-\\u27bf"+Us+$s+"]",Js="\\ud83c[\\udffb-\\udfff]",Ys="[^\\ud800-\\udfff]",Ks="(?:\\ud83c[\\udde6-\\uddff]){2}",Xs="[\\ud800-\\udbff][\\udc00-\\udfff]",Qs="["+$s+"]",el="(?:"+Hs+"|"+Ws+")",tl="(?:"+Qs+"|"+Ws+")",rl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",nl="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ol="(?:"+Bs+"|"+Js+")?",al="[\\ufe0e\\ufe0f]?",il=al+ol+"(?:\\u200d(?:"+[Ys,Ks,Xs].join("|")+")"+al+ol+")*",ul="(?:"+[Gs,Ks,Xs].join("|")+")"+il,cl="(?:"+[Ys+Bs+"?",Bs,Ks,Xs,qs].join("|")+")",sl=RegExp(Ns,"g"),ll=RegExp(Bs,"g"),fl=RegExp(Js+"(?="+Js+")|"+cl+il,"g"),dl=RegExp([Qs+"?"+Hs+"+"+rl+"(?="+[zs,Qs,"$"].join("|")+")",tl+"+"+nl+"(?="+[zs,Qs+el,"$"].join("|")+")",Qs+"?"+el+"+"+rl,Qs+"+"+nl,Zs,ul].join("|"),"g"),pl=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),hl=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yl="object"==typeof c&&c&&c.Object===Object&&c,vl="object"==typeof self&&self&&self.Object===Object&&self,ml=yl||vl||Function("return this")(),gl=(Ls={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"ss"},function(e){return null==Ls?void 0:Ls[e]});function bl(e){return pl.test(e)}function wl(e){return bl(e)?function(e){return e.match(fl)||[]}(e):function(e){return e.split("")}(e)}var _l=Object.prototype.toString,xl=ml.Symbol,jl=xl?xl.prototype:void 0,Ol=jl?jl.toString:void 0;function Sl(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&_l.call(e)==Ds}(e))return Ol?Ol.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function El(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}(e,t,r)}function kl(e){return null==e?"":Sl(e)}var Cl,Al,Il=(Cl=function(e,t,r){return t=t.toLowerCase(),e+(r?Pl(kl(t).toLowerCase()):t)},function(e){return function(e,t,r,n){var o=-1,a=e?e.length:0;for(n&&a&&(r=e[++o]);++o<a;)r=t(r,e[o],o,e);return r}(function(e,t,r){return e=kl(e),void 0===(t=r?void 0:t)?function(e){return hl.test(e)}(e)?function(e){return e.match(dl)||[]}(e):function(e){return e.match(Ts)||[]}(e):e.match(t)||[]}(function(e){return(e=kl(e))&&e.replace(Vs,gl).replace(ll,"")}(e).replace(sl,"")),Cl,"")}),Pl=(Al="toUpperCase",function(e){var t=bl(e=kl(e))?wl(e):void 0,r=t?t[0]:e.charAt(0),n=t?El(t,1).join(""):e.slice(1);return r[Al]()+n});e.exports=Il;var Rl=u(Object.freeze({__proto__:null})),Ll="[object Symbol]",Fl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tl="a-z\\xdf-\\xf6\\xf8-\\xff",Vl="A-Z\\xc0-\\xd6\\xd8-\\xde",Ul="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$l="['\u2019]",Ml="["+Ul+"]",Nl="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",ql="\\d+",zl="[\\u2700-\\u27bf]",Bl="["+Tl+"]",Zl="[^\\ud800-\\udfff"+Ul+ql+"\\u2700-\\u27bf"+Tl+Vl+"]",Gl="(?:\\ud83c[\\udde6-\\uddff]){2}",Hl="[\\ud800-\\udbff][\\udc00-\\udfff]",Wl="["+Vl+"]",Jl="(?:"+Bl+"|"+Zl+")",Yl="(?:"+Wl+"|"+Zl+")",Kl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xl="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ql="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",ef="[\\ufe0e\\ufe0f]?",tf=ef+Ql+"(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Gl,Hl].join("|")+")"+ef+Ql+")*",rf="(?:"+[zl,Gl,Hl].join("|")+")"+tf,nf=RegExp($l,"g"),of=RegExp(Nl,"g"),af=RegExp([Wl+"?"+Bl+"+"+Kl+"(?="+[Ml,Wl,"$"].join("|")+")",Yl+"+"+Xl+"(?="+[Ml,Wl+Jl,"$"].join("|")+")",Wl+"?"+Jl+"+"+Kl,Wl+"+"+Xl,ql,rf].join("|"),"g"),uf=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cf="object"==typeof c&&c&&c.Object===Object&&c,sf="object"==typeof self&&self&&self.Object===Object&&self,lf=cf||sf||Function("return this")(),ff=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"ss"}),df=Object.prototype.toString,pf=lf.Symbol,hf=pf?pf.prototype:void 0,yf=hf?hf.toString:void 0;function vf(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&df.call(e)==Ll}(e))return yf?yf.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function mf(e){return null==e?"":vf(e)}var gf=function(e){return function(t){return function(e,t,r,n){var o=-1,a=e?e.length:0;for(n&&a&&(r=e[++o]);++o<a;)r=t(r,e[o],o,e);return r}(function(e,t,r){return e=mf(e),void 0===(t=r?void 0:t)?function(e){return uf.test(e)}(e)?function(e){return e.match(af)||[]}(e):function(e){return e.match(Fl)||[]}(e):e.match(t)||[]}(function(e){return(e=mf(e))&&e.replace(Dl,ff).replace(of,"")}(t).replace(nf,"")),e,"")}}((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));e.exports=gf;var bf=Rl,wf=u(Object.freeze({__proto__:null})),_f=function e(t,r){return t&&t.constructor===Object?Object.keys(t).forEach((function(n){var o=t[n];delete t[n],"camel"===r?n=bf(n):"snake"===r?n=wf(n):"upper"===r?n=n.toUpperCase():"lower"===r?n=n.toLowerCase():"function"==typeof r&&(n=r(n)),t[n]=e(o,r)})):t&&t.constructor===Array&&(t=t.map((function(t){return e(t,r)}))),t};let xf={};function jf(e,t,r={}){return t&&"object"==typeof t&&e&&"object"==typeof e?Fs(e,t,{arrayMerge:function(e,t,r){const n=e.slice();return t.forEach(((t,o)=>{void 0===n[o]?n[o]=r.cloneUnlessOtherwiseSpecified(t,r):r.isMergeableObject(t)?n[o]=jf(e[o],t,r):-1===e.indexOf(t)&&n.push(t)})),n}}):e}function Of(e){return e&&"object"==typeof e&&!(e instanceof Array)}function Sf(e){if(!e)return e;const t=JSON.parse(JSON.stringify(e));return _f(t,Cf)}function Ef(e){if(!e)return e;const t=JSON.parse(JSON.stringify(e));return _f(t,kf)}function kf(e){return("$"===e[0]?"$":"")+Su(e).replace(/\_([0-9])/g,"$1")}function Cf(e){return("$"===e[0]?"$":"")+Ou(e).replace(/\_([0-9])/g,"$1")}function Af(e){return"string"==typeof e?e.replace(/^[/]+/,""):""}function If(e){return"string"==typeof e?e.replace(/[/]+$/,""):""}function Pf(e){return function(e,r,n,u){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?a(i(e),(function(i){var u=encodeURIComponent(o(i))+n;return t(e[i])?a(e[i],(function(e){return u+encodeURIComponent(o(e))})).join(r):u+encodeURIComponent(o(e[i]))})).join(r):u?encodeURIComponent(o(u))+n+encodeURIComponent(o(e)):""}(e)}function Rf(e,t,r){return e instanceof Array?e.reduce(t,r):r}function Lf(){return!("undefined"!=typeof window&&window&&window.document)}function Ff(e){return"function"==typeof e}function Df(e,t,r){return{list:r.indexOf("list")>=0?function(r){return e("get",t,void 0,r)}:void 0,get:r.indexOf("get")>=0?function(r,n){return e("get",t,r,n)}:void 0}}async function Tf(e,t,r,n){const o=xf.vaultUrl,a=xf.timeout,i=`swell_vault_response_${window.__swell_vault_request_id=window.__swell_vault_request_id||0,window.__swell_vault_request_id++,window.__swell_vault_request_id}`;return r={$jsonp:{method:e,callback:i},$data:r,$key:xf.key},new Promise(((e,n)=>{const u=document.createElement("script");u.type="text/javascript",u.src=`${If(o)}/${Af(t)}?${function(e){const t=[],r=function(e,r){"function"==typeof r?r=r():null==r&&(r=""),t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(r)};for(const n in e)Uf(n,e[n],r);return t.join("&").replace(" ","+")}(r)}`;const c=setTimeout((()=>{window[i]({$error:`Request timed out after ${a/1e3} seconds`,$status:500})}),a);window[i]=t=>{if(clearTimeout(c),t&&t.$error){const e=new Error(t.$error);e.code="request_error",e.status=t.$status,n(e)}else if(!t||t.$status>=300){const e=new Error("A connection error occurred while making the request");e.code="connection_error",e.status=t.$status,n(e)}else e(xf.useCamelCase?Sf(t.$data):t.$data);delete window[i],u.parentNode.removeChild(u)},document.getElementsByTagName("head")[0].appendChild(u)}))}const Vf=/\[\]$/;function Uf(e,t,r){let n;if(t instanceof Array)for(let o=0;o<t.length;o++)Vf.test(e)?r(e,v):Uf(e+"["+("object"==typeof v&&null!=v?o:"")+"]",v,r);else if(t&&"object"==typeof t)for(n in t)Uf(e+"["+n+"]",t[n],r);else r(e,t)}const $f={async createToken(e){let t=null,r=null,n=null;e||(t="Card details are missing in `swell.card.createToken(card)`",n="");const o=Ef(e);if(!o.nonce){if(this.validateNumber(o.number)||(t="Card number appears to be invalid",r="invalid_card_number",n="number"),o.exp){const e=this.expiry(o.exp);o.exp_month=e.month,o.exp_year=e.year}this.validateExpiry(o.exp_month,o.exp_year)||(t="Card expiry appears to be invalid",r="invalid_card_expiry",n="exp_month"),this.validateCVC(o.cvc)||(t="Card CVC code appears to be invalid",r="invalid_card_cvc",n="exp_cvc")}if(t){const e=new Error(t);throw e.code=r||"invalid_card",e.status=402,e.param=n,e}const a=await Tf("post","/tokens",o);if(a.errors){const e=Object.keys(a.errors)[0],t=new Error(a.errors[e].message||"Unknown error");throw t.code="vault_error",t.status=402,t.param=e,t}return a},expiry(e){if(e&&e.month&&e.year)return e;const t=new String(e).split(/[\s\/\-]+/,2),r=t[0];let n=t[1];return n&&2===n.length&&/^\d+$/.test(n)&&(n=(new Date).getFullYear().toString().substring(0,2)+n),{month:~~r,year:~~n}},types(){let e,t,r,n;for(t={},e=r=40;r<=49;e=++r)t[e]="Visa";for(e=n=50;n<=59;e=++n)t[e]="MasterCard";return t[34]=t[37]="American Express",t[60]=t[62]=t[64]=t[65]="Discover",t[35]="JCB",t[30]=t[36]=t[38]=t[39]="Diners Club",t},type(e){return this.types()[e.slice(0,2)]||"Unknown"},luhnCheck(e){let t,r,n,o,a,i;for(n=!0,o=0,r=(e+"").split("").reverse(),a=0,i=r.length;a<i;a++)t=r[a],t=parseInt(t,10),(n=!n)&&(t*=2),t>9&&(t-=9),o+=t;return o%10==0},validateNumber(e){return(e=(e+"").replace(/\s+|-/g,"")).length>=10&&e.length<=16&&this.luhnCheck(e)},validateExpiry(e,t){let r,n;return e=String(e).trim(),t=String(t).trim(),!!/^\d+$/.test(e)&&!!/^\d+$/.test(t)&&parseInt(e,10)<=12&&(n=new Date(t,e),r=new Date,n.setMonth(n.getMonth()-1),n.setMonth(n.getMonth()+1,1),n>r)},validateCVC:e=>(e=String(e).trim(),/^\d+$/.test(e)&&e.length>=3&&e.length<=4)};function Mf(e){if(Lf())return;const t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function Nf(e,t,r={}){if(Lf())return;const n=new Date;n.setDate(n.getDate()+7),(r={path:"/",expires:n.toUTCString(),...r}).expires&&r.expires.toUTCString&&(r.expires=r.expires.toUTCString());let o=encodeURIComponent(e)+"="+encodeURIComponent(t);for(const a in r){o+="; "+a;const e=r[a];!0!==e&&(o+="="+e)}document.cookie=o}let qf={};const zf={options:{enabled:!0,debug:!1},debug(...e){this.options.debug&&console.log(...e)},values({model:e,id:t},r){if(this.debug("cache.values",...arguments),void 0===r)return Gt(qf,`${e}.${t}`,{});for(let n in r)Nt(qf,`${e}.${t}.${n}`,r[n])},preset(e){this.debug("cache.preset",...arguments);const{presets:t=[]}=this.values(e);t.push(e),this.values(e,{presets:t})},set(e){this.debug("cache.set",...arguments);let{model:t,id:r,path:n,value:o}=e,{data:a={},record:i,presets:u}=this.values(e);if(null===r)return;if(void 0===i)return this.preset(e);a=jf(i||{},a);const{useCamelCase:c}=xf;if(c&&o&&"object"==typeof o&&(o=Sf(o)),n||o instanceof Array){let e={...a||{}},t=c?"string"==typeof(s=n)?s.split(".").map(Ou).join("."):s:n;Nt(e,t||"",o),a=e}else o&&"object"==typeof o?(a=a||{},a=jf(a,o)):a=o;var s;this.values(e,{data:a});try{const e=qf[t][r];void 0!==e&&(void 0!==e.data&&(e.data=JSON.parse(JSON.stringify(e.data))),void 0!==e.record&&(e.record=JSON.parse(JSON.stringify(e.record))))}catch(e){}},get(e,t){this.debug("cache.get",...arguments);const{data:r,recordTimer:n}=this.values({model:e,id:t});if(this.debug("cache.get:data+recordTimer",...arguments),n)return r},setRecord(e,t){this.debug("cache.setRecord",...arguments);let{recordTimer:r,presets:n}=this.values(t);if(r&&clearTimeout(r),r=setTimeout((()=>{this.values(t,{record:void 0,recordTimer:void 0})}),5e3),this.values(t,{record:void 0!==e?e:null,recordTimer:r}),n){for(let e of n)this.set(e);this.values(t,{presets:void 0})}const o=this.get(t.model,t.id);return void 0!==o?o:e},async getFetch(e,t,r){if(this.options.enabled){this.debug("cache.getFetch",...arguments);const r=this.get(e,t);if(void 0!==r)return r}const n=await r();return this.setRecord(n,{model:e,id:t})},clear(e,t){this.debug("cache.clear",...arguments),e?Nt(qf,t?`${e}.${t}`:e,void 0):qf={}}};function Bf(e){const{get:t,list:r}=Df(e,"/attributes",["list","get"]);return{get:(e,...r)=>zf.getFetch("attributes",e,(()=>t(e,...r))),list:r}}let Zf;function Gf(e){let t=e||[];if(e&&"object"==typeof e&&!(e instanceof Array)){t=[];for(const r in e)t.push({id:r,value:e[r]})}return t instanceof Array?t.map((e=>({id:e.id||e.name,value:e.value}))):t}function Hf(e,t,r){const n=Zf.useCamelCase?Ef(e):e,o=Wf(n,r),a={...n,price:o.price||0,sale_price:o.sale_price,orig_price:o.orig_price,stock_status:n.stock_status};let i=0;const u=[],c=Gf(t),s=function(e,t){return e.options?Rf(t?e.options.filter(t):e.options,((e,t)=>{const r=Rf(t.values,((e,t)=>({...e,[t.id]:{...t,id:t.id},[t.name]:{...t,id:t.id}})),{});return{...e,[t.id]:{...t,values:r},[t.name]:{...t,values:r}}}),{}):{}}(n);for(const l of c)s[l.id]&&s[l.id].values[l.value]&&(s[l.id].variant?u.push(s[l.id].values[l.value].id):i+=s[l.id].values[l.value].price||0);if(u.length>0){const t=function(e,t){if(t.length>0){const r=e.variants&&e.variants.results;if(r.length>0)for(const e of r){const r=Ef(e);if(Os(r.option_value_ids.sort(),t.sort()))return e}}return null}(n,u);if(t){let i=o;try{i=Wf(t,r)}catch(e){}a.variant_id=t.id,a.price=i.price||0,a.sale_price=i.sale_price||o.sale_price,a.orig_price=i.orig_price||o.orig_price,a.stock_status=t.stock_status,a.stock_level=t.stock_level||0,a.images=(t.images&&t.images.length?t.images:n.images)||[]}}return i>0&&(a.price+=i,a.sale_price&&(a.sale_price+=i),a.orig_price&&(a.orig_price+=i)),void 0===a.sale_price&&delete a.sale_price,void 0===a.orig_price&&delete a.orig_price,Zf.useCamelCase?Sf(a):a}function Wf(e,t){const r=Gt(t,"plan_id",Gt(t,"plan")),n=Gt(t,"type","string"==typeof t?t:void 0!==r?"subscription":"standard");let o=Gt(e,`purchase_options.${n}`);if(!o&&"standard"!==n)throw new Error(`Product purchase option '${n}' not found or not active`);if(o){if(o.plans)if(void 0!==r){if(o=ti(o.plans,{id:r}),!o)throw new Error(`Subscription purchase plan '${r}' not found or not active`)}else o=o.plans[0];return{...o,price:"number"==typeof o.price?o.price:e.price,sale_price:"number"==typeof o.sale_price?o.sale_price:e.sale_price,orig_price:"number"==typeof o.orig_price?o.orig_price:e.orig_price}}return{type:"standard",price:e.price,sale_price:e.sale_price,orig_price:e.orig_price}}function Jf(e,t={}){let r=(t.attributes||void 0===t.attributes)&&Kf(e);t.filterableAttributes&&(r=r.filter((e=>t.filterableAttributes.find((t=>e.id===t.id)))));const n=(t.categories||void 0===t.categories)&&Yf(e),o=(t.price||void 0===t.price)&&Xf(e);let a=[];return o&&a.push({id:"price",label:"Price",type:"range",options:[{value:o.min,label:o.min},{value:o.max,label:o.max}],interval:o.interval}),n&&n.length>0&&a.push({id:"category",label:"Category",type:"select",options:n.map((e=>({value:e.slug,label:e.name})))}),r&&r.length>0&&(a=[...a,...Rf(r,((e,t)=>[...e,..."category"!==t.id&&"price"!==t.id&&t.values instanceof Array&&t.values.length>0?[{id:t.id,label:t.name,type:"select",options:t.values.map((e=>({value:e,label:e})))}]:[]]),[])]),a}function Yf(e){const t=[],r=e&&e.results||(e.id?[e]:e);if(r instanceof Array)for(let n of r)if(n.categories)for(let e of n.categories)e&&(ti(t,{id:e.id})||t.push(e));return t}function Kf(e){const t=[],r=e&&e.results||(e.id?[e]:e);if(r instanceof Array)for(let n of r)if(n.attributes)for(let e in n.attributes){if(!n.attributes[e])continue;const r=n.attributes[e].value;let o=ti(t,{id:Su(e)});o?o.values=br([...o.values,...r instanceof Array?r:[r]]):t.push({...n.attributes[e],value:void 0,values:[...r instanceof Array?r:[r]]})}return t}function Xf(e){let t,r,n;const o=e&&e.results||(e.id?[e]:e);if(o instanceof Array)for(let a of o)(void 0===r||a.price>r)&&(r=Math.ceil(a.price)),(void 0===t||a.price<t)&&(t=Math.floor(a.price));if(t===r)return null;for(n=Math.ceil((r-t)/10)||1,n>1e3?n=1e3:n>100?n=100:n>10&&(n=10),r%n>0&&(r=n+r-r%n),t%n>0&&(t-=t%n);(r-t)/n%1>0;)r++;return{min:t,max:r,interval:n}}function Qf(e,t){return{state:null,order:null,settings:null,requested:!1,pendingRequests:[],cacheClear:null,async requestStateChange(t,r,n,o){return this.requestStateSync((async()=>{const a=await e(t,r,n,o);return a&&a.errors||(this.state=a),a}))},async requestStateSync(e){if(this.state)return await e();if(this.requested)return new Promise((t=>{this.pendingRequests.push({handler:e,resolve:t})}));this.requested=!0;const t=await e();for(this.requested=!1;this.pendingRequests.length>0;){const{handler:e,resolve:t}=this.pendingRequests.shift();t(e())}return t},get(){let e;return this.cacheClear&&(this.cacheClear=null,e={$cache:!1}),this.requestStateChange("get","/cart",void 0,e)},clearCache(){this.cacheClear=!0},getItemData(e,t={}){let r=xs(e);return"string"==typeof e&&(r={...t||{},product_id:e}),r&&r.options&&(r.options=Gf(r.options)),r},addItem(e,t){return this.requestStateChange("post","/cart/items",this.getItemData(e,t))},updateItem(e,t){return this.requestStateChange("put",`/cart/items/${e}`,this.getItemData(t))},setItems(e){let t=e;return t&&t.map&&(t=t.map(this.getItemData)),this.requestStateChange("put","/cart/items",t)},removeItem(e){return this.requestStateChange("delete",`/cart/items/${e}`)},recover(e){return this.requestStateChange("put",`/cart/recover/${e}`)},update(e){let t=e;return t.items&&t.items.map&&(t={...t,items:t.items.map(this.getItemData)}),this.requestStateChange("put","/cart",t)},applyCoupon(e){return this.requestStateChange("put","/cart/coupon",{code:e})},removeCoupon(){return this.requestStateChange("delete","/cart/coupon")},applyGiftcard(e){return this.requestStateChange("post","/cart/giftcards",{code:e})},removeGiftcard(e){return this.requestStateChange("delete",`/cart/giftcards/${e}`)},async getShippingRates(){return await this.requestStateChange("get","/cart/shipment-rating"),this.state[t.useCamelCase?"shipmentRating":"shipment_rating"]},async submitOrder(){const t=await e("post","/cart/order");return t.errors||(this.state=null,this.order=t),t},async getOrder(t){let r;return r=t?await e("get","/cart/order",{checkout_id:t}):await e("get","/cart/order"),this.order=r,r},async getSettings(){return this.settings=await e("get","/cart/settings"),this.settings}}}function ed(e,t){return{state:null,menuState:null,paymentState:null,subscriptionState:null,sessionState:null,localizedState:{},refresh(){return this.state=null,this.menuState=null,this.paymentState=null,this.subscriptionState=null,this.sessionState=null,this.localizedState={},this.get()},getState(t,r,{id:n,def:o,refresh:a=!1}={}){return this[r]&&!a||(this[r]=e("get",t)),this[r]&&"function"==typeof this[r].then?this[r].then((e=>(this[r]=e,this.getLocalizedState(r,n,o)))):this.getLocalizedState(r,n,o)},getLocalizedState(e,t,r){const n=this.getCurrentLocale(),o=this.localizedState;return o.code!==n&&(o.code=n,delete o[n]),o[n]||(o[n]={}),o[n][e]||(o[n][e]=this.decodeLocale(this[e])),t?Gt(o[n][e],t,r):o[n][e]},findState(e,t,{where:r,def:n}={}){const o=this.getState(e,t);return o&&"function"==typeof o.then?o.then((e=>ti(e,r)||n)):ti(o,r)||n},get(e,t){return this.getState("/settings","state",{id:e,def:t})},getCurrentLocale:()=>t.api.locale.selected(),getStoreLocale(){return Gt(this.state,"store.locale")},getStoreLocales(){return Gt(this.state,"store.locales")},set({model:e,path:r,value:n}){const o=this.getCurrentLocale(),a=e?`${e.replace(/s$/,"")}State`:"state",{useCamelCase:i}=t;let u={};r?Nt(u,r,n):u=n,i&&(u=Sf(u)),this[a]=jf(this[a]||{},u),this.localizedState[o]&&(this.localizedState[o][a]=this.decodeLocale(this[a]))},menus(e,t){return this.findState("/settings/menus","menuState",{where:{id:e},def:t})},payments(e,t){return this.getState("/settings/payments","paymentState",{id:e,def:t})},subscriptions(e,t){return this.getState("/settings/subscriptions","subscriptionState",{id:e,def:t})},session(e,t){return this.getState("/session","sessionState",{id:e,def:t})},decodeLocale(e){const r=this.getCurrentLocale();if(!e||"object"!=typeof e)return e;let n=this.getStoreLocales();return n=n?n.reduce(((e,t)=>({...e,[t.code]:t})),{}):{},td(xs(e),r,n,t)},async load(){try{const{settings:t,menus:r,payments:n,subscriptions:o,session:a}=await e("get","/settings/all");this.localizedState={},this.set({value:t}),this.set({model:"menus",value:r}),this.set({model:"payments",value:n}),this.set({model:"subscriptions",value:o}),this.set({model:"session",value:a})}catch(e){console.error(`Swell: unable to loading settings (${e})`)}}}}function td(e,t,r,n){if(Of(e)){const o=Object.keys(e);for(let a of o)"$locale"===a&&(rd(t,e,a,r,n),delete e.$locale),void 0!==e[a]&&(e[a]=td(e[a],t,r,n))}else if(e instanceof Array)for(var o=0;o<e.length;o++)e[o]=td(e[o],t,r,n);return e}function rd(e,t,r,n,o){if(!e||!Of(t[r]))return;let a,i;const u=Object.keys(t[r]);for(let d of u){const t=d.replace(/\-.+$/,""),r=o.useCamelCase?Ou(e):e;d!==e&&d!==r&&t!==r||(a=e,i=n[e])}if(!a&&Of(n)){const t=Object.keys(n);for(let r of t){const t=r.replace(/\-.+$/,"");r!==e&&t!==e||(a=r,i=n[r])}}let c,s={};if(i){let e=i.fallback;const o=e;for(;e&&(c=c||[],c.push(e),s={...t[r][e]||{},...s},e=n[e]&&n[e].fallback,o!==e););}let l={...s,...t[r][a]||{}};const f=Object.keys(l);for(let d of f){const e=null!==l[d]&&""!==l[d];let n=c&&!e;if(n)for(let o of c){if(n=!t[r][o]||null===t[r][o][d]||""===t[r][o][d],!n){t[d]=t[r][o][d];break}if("none"===o){t[d]=null;break}}else e&&(t[d]=l[d])}}var nd=Ot,od=function(e){return nd(e).toLowerCase()},ad=function(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),u=i.length;u--;){var c=i[e?u:++o];if(!1===r(a[c],c,a))break}return t}},id=ad(),ud=Kn,cd=function(e,t){return e&&id(e,t,ud)},sd=Hn,ld=function(e,t){return function(r,n){if(null==r)return r;if(!sd(r))return e(r,n);for(var o=r.length,a=t?o:-1,i=Object(r);(t?a--:++a<o)&&!1!==n(i[a],a,i););return r}}(cd),fd=Vi,dd=ld,pd=Pa,hd=function(e,t,r,n,o){return o(e,(function(e,o,a){r=n?(n=!1,e):t(r,e,o,a)})),r},yd=ae,vd=function(e,t,r){var n=yd(e)?fd:hd,o=arguments.length<3;return n(e,pd(t),r,o,dd)},md=Bn,gd=Oo,bd=pn,wd=ae,_d=Hn,xd=hn.exports,jd=Un,Od=Cn,Sd=Object.prototype.hasOwnProperty,Ed=function(e){if(null==e)return!0;if(_d(e)&&(wd(e)||"string"==typeof e||"function"==typeof e.splice||xd(e)||Od(e)||bd(e)))return!e.length;var t=gd(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(jd(e))return!md(e).length;for(var r in e)if(Sd.call(e,r))return!1;return!0},kd=ld,Cd=Hn,Ad=vt,Id=Pa,Pd=function(e,t){var r=-1,n=Cd(e)?Array(e.length):[];return kd(e,(function(e,o,a){n[++r]=t(e,o,a)})),n},Rd=ae,Ld=function(e,t){return(Rd(e)?Ad:Pd)(e,Id(t))};const Fd={city:"city",country:"country",line1:"address1",line2:"address2",postal_code:"zip",state:"state"},Dd={name:"name",phone:"phone"};function Td(e){const{account:t={},billing:r,shipping:n}=e,o={...Gt(t,"shipping",{}),...Gt(t,"billing",{}),...n,...r},a=e=>vd(e,((e,t,r)=>{const n=o[t];return n&&(e[r]=n),e}),{}),i=a(Dd);if(!Ed(i)){const e=a(Fd);return{...i,...Ed(e)?{}:{address:e}}}}function Vd(e){const t=od(Gt(e,"currency","eur")),r=Ld(e.items,(e=>({type:"sku",description:e.product.name,quantity:e.quantity,currency:t,amount:Math.round(100*Ga(e.price_total-e.discount_total))}))),n=Gt(e,"tax_included_total");n&&r.push({type:"tax",description:"Taxes",currency:t,amount:Math.round(100*Ga(n))});const o=Gt(e,"shipping",{}),a=Gt(e,"shipment_total",{});return o.price&&r.push({type:"shipping",description:o.service_name,currency:t,amount:Math.round(100*Ga(a))}),r}async function Ud(e,t){const r={type:"klarna",flow:"redirect",amount:Math.round(100*Gt(t,"grand_total",0)),currency:od(Gt(t,"currency","eur")),klarna:{product:"payment",purchase_country:Gt(t,"settings.country","DE")},source_order:{items:Vd(t)},redirect:{return_url:window.location.href}};return function(e,t){const r=(e,t)=>vd(e,((e,r,n)=>{const o=t[r];return o&&(e[n]=o),e}),{});e.klarna={...e.klarna,...r({shipping_first_name:"first_name",shipping_last_name:"last_name"},t.shipping)};const n=r({phone:"phone"},t.shipping),o=r(Fd,t.shipping);(n||o)&&(e.source_order.shipping={...n||{},...o?{address:o}:{}}),e.klarna={...e.klarna,...r({first_name:"first_name",last_name:"last_name"},t.billing||Gt(t,"account.billing")||t.shipping)};const a=r({email:"email"},t.account),i=r(Fd,t.billing||Gt(t,"account.billing")||t.shipping);(a||i)&&(e.owner={...a||{},...i?{address:i}:{}})}(r,t),await e.createSource(r)}async function $d(e,t){const r={type:"bancontact",amount:Math.round(100*Gt(t,"grand_total",0)),currency:od(Gt(t,"currency","eur")),redirect:{return_url:window.location.href}};return function(e,t){const{account:r={},billing:n,shipping:o}=t,a={...r.shipping,...r.billing,...o,...n},i=((e,t)=>vd(e,((e,r,n)=>{const o=t[r];return o&&(e[n]=o),e}),{}))(Fd,a);e.owner={email:r.email,name:a.name||r.name,...a.phone?{phone:a.phone}:r.phone?{phone:r.phone}:{},...Ed(i)?{}:{address:i}}}(r,t),await e.createSource(r)}function Md(e,t){return["BIF","DJF","JPY","KRW","PYG","VND","XAF","XPF","CLP","GNF","KMF","MGA","RWF","VUV","XOF"].includes(e.toUpperCase())?t:Math.round(100*t)}const Nd={given_name:"first_name",family_name:"last_name",city:"city",country:"country",phone:"phone",postal_code:"zip",street_address:"address1",street_address2:"address2",region:"state"},qd=(e,t)=>{return{...(r=Nd,n=e[t],vd(r,((e,t,r)=>{const o=n[t];return o&&(e[r]=o),e}),{})),email:Gt(e,"account.email")};var r,n};function zd(e){const t=Ld(e.items,(e=>({type:"physical",name:Gt(e,"product.name"),reference:Gt(e,"product.sku")||Gt(e,"product.slug"),quantity:e.quantity,unit_price:Math.round(100*Ga(e.price-e.discount_each)),total_amount:Math.round(100*Ga(e.price_total-e.discount_total)),tax_rate:0,total_tax_amount:0}))),r=Gt(e,"tax_included_total"),n=100*Ga(r);r&&t.push({type:"sales_tax",name:"Taxes",quantity:1,unit_price:n,total_amount:n,tax_rate:0,total_tax_amount:0});const o=Gt(e,"shipping",{}),a=Gt(e,"shipment_total",{}),i=100*Ga(a);return o.price&&t.push({type:"shipping_fee",name:o.service_name,quantity:1,unit_price:i,total_amount:i,tax_rate:0,total_tax_amount:0}),t}const Bd={},Zd={},Gd={};let Hd=null;function Wd(e,t){return Hd=t||Hd,{params:null,methodSettings:null,get:t=>e("get","/payments",t),async methods(){if(this.methodSettings)return this.methodSettings;const t=await e("get","/payment/methods");return this.methodSettings=t},async createElements(t){this.params=t||{};const r=Ef(await Qf(e,Hd).get());if(!r)throw new Error("Cart not found");const n=Ef(await ed(e,Hd).payments());if(n.error)throw new Error(n.error);await async function(e,t,r,n){n.card&&(r.card?"braintree"===r.card.gateway?window.braintree||await Jd("braintree-web","https://js.braintreegateway.com/web/3.57.0/js/client.min.js"):"stripe"===r.card.gateway&&(window.Stripe||await Jd("stripe-js","https://js.stripe.com/v3/"),await Yd(e,r,n)):console.error("Payment element error: credit card payments are disabled. See Payment settings in the Swell dashboard for details.")),n.ideal&&(r.card?r.ideal?"stripe"===r.card.gateway&&(window.Stripe||await Jd("stripe-js","https://js.stripe.com/v3/"),await Yd(e,r,n)):console.error("Payment element error: iDEAL payments are disabled. See Payment settings in the Swell dashboard for details."):console.error("Payment element error: credit card payments are disabled. See Payment settings in the Swell dashboard for details.")),n.paypal&&(r.paypal?r.card&&"braintree"===r.card.gateway&&"braintree"===r.paypal.gateway?(window.paypal||await Jd("paypal-sdk",`https://www.paypal.com/sdk/js?currency=${t.currency}&client-id=${r.paypal.client_id}&merchant-id=${r.paypal.merchant_id}&vault=true`),window.braintree||await Jd("braintree-web","https://js.braintreegateway.com/web/3.57.0/js/client.min.js"),window.braintree&&!window.braintree.paypalCheckout&&await Jd("braintree-web-paypal-checkout","https://js.braintreegateway.com/web/3.57.0/js/paypal-checkout.min.js"),await async function(e,t,r,n){const o=await Tf("post","/authorization",{gateway:"braintree"});if(o.error)throw new Error(o.error);const a=window.braintree,i=window.paypal;a.client.create({authorization:o}).then((e=>a.paypalCheckout.create({client:e}))).then((r=>i.Buttons({style:n.paypal.style||{},createBillingAgreement:()=>r.createPayment({flow:"vault",currency:t.currency,amount:t.grand_total}),onApprove:(t,o)=>r.tokenizePayment(t).then((({nonce:t})=>Qf(e,Hd).update({billing:{paypal:{nonce:t}}}))).then((()=>Ff(n.paypal.onSuccess)&&n.paypal.onSuccess(t,o))).catch(Ff(n.paypal.onError)?n.paypal.onError:e=>console.error("PayPal error",e)),onCancel:Ff(n.paypal.onCancel)?()=>n.paypal.onCancel():()=>console.log("PayPal payment cancelled"),onError:Ff(n.paypal.onError)?e=>n.paypal.onError(e):e=>console.error("PayPal error",e)}).render(n.paypal.elementId||"#paypal-button"))).catch(Ff(n.paypal.onError)?n.paypal.onError:e=>console.error("PayPal error",e))}(e,t,0,n)):(window.paypal||await Jd("paypal-sdk",`https://www.paypal.com/sdk/js?currency=${t.currency}&client-id=${r.paypal.client_id}&merchant-id=${r.paypal.merchant_id}&intent=authorize&commit=false`),await async function(e,t,r,n){const o=window.paypal,{paypal:{locale:a,style:i,elementId:u}={}}=n,{capture_total:c,currency:s,account_logged_in:l}=t,f=e=>{const t=Gt(n,"paypal.onError");if(Ff(t))return t(e);throw new Error(e.message)},d=()=>{const e=Gt(n,"paypal.onSuccess");return Ff(e)&&e()};if(!(c>0))throw new Error("Invalid PayPal button amount. Value should be greater than zero.");o.Buttons({locale:a||"en_US",style:i||{layout:"horizontal",height:45,color:"gold",shape:"rect",label:"paypal",tagline:!1},createOrder:(e,t)=>t.order.create({intent:"AUTHORIZE",purchase_units:[{amount:{value:+c.toFixed(2),currency_code:s}}]}),onApprove:(t,r)=>r.order.get().then((t=>{const r=t.id,n=t.payer,o=Gt(t,"purchase_units[0].shipping");return Qf(e).update({...!l&&{account:{email:n.email_address}},billing:{method:"paypal",paypal:{order_id:r}},shipping:{name:o.name.full_name,address1:o.address.address_line_1,address2:o.address.address_line_2,state:o.address.admin_area_1,city:o.address.admin_area_2,zip:o.address.postal_code,country:o.address.country_code}})})).then(d).catch(f)},f).render(u||"#paypal-button")}(e,t,0,n)):console.error("Payment element error: PayPal payments are disabled. See Payment settings in the Swell dashboard for details."))}(e,r,n,this.params)},async tokenize(t){const r=Ef(await Qf(e,Hd).get());if(!r)throw new Error("Cart not found");const n=Ef(await ed(e,Hd).payments());if(n.error)throw new Error(n.error);return await async function(e,t,r,n){const{capture_total:o,auth_total:a}=n,i=e=>{const r=Gt(t,"card.onError")||Gt(t,"ideal.onError")||Gt(t,"klarna.onError")||Gt(t,"bancontact.onError")||Gt(t,"paysafecard.onError");if(Ff(r))return r(e);throw new Error(e.message)},u=e=>{const r=Gt(t,"card.onSuccess")||Gt(t,"ideal.onSuccess");if(Ff(r))return r(e)};if(!t)return i({message:"Tokenization parameters not passed"});if(t.card&&r.card){if("stripe"===r.card.gateway&&Zd.stripe&&Gd.stripe){const t=Gd.stripe,r=await async function(e,t,r){const n=Td(r),{error:o,paymentMethod:a}=await e.createPaymentMethod({type:"card",card:t,...n?{billing_details:n}:{}});return o?{error:o}:{token:a.id,last4:a.card.last4,exp_month:a.card.exp_month,exp_year:a.card.exp_year,brand:a.card.brand,address_check:a.card.checks.address_line1_check,cvc_check:a.card.checks.cvc_check,zip_check:a.card.checks.address_zip_check}}(t,Zd.stripe,n);if(r.error)return i(r.error);if(o<1)return Qf(e,Hd).update({billing:{method:"card",card:r}}).then(u).catch(i);const c=od(Gt(n,"currency","usd")),s=Md(c,o+a),l=Gt(n,"account.stripe_customer"),f=Ef(await Wd(e).createIntent({gateway:"stripe",intent:{payment_method:r.token,amount:s,currency:c,capture_method:"manual",setup_future_usage:"off_session",...l?{customer:l}:{}}}).catch(i));if(f&&"requires_confirmation"===f.status){const{paymentIntent:n,error:o}=await t.confirmCardPayment(f.client_secret);return o?i(o):await Qf(e,Hd).update({billing:{method:"card",card:r,intent:{stripe:{id:n.id,...!!a&&{auth_amount:a}}}}}).then(u).catch(i)}}else if("quickpay"===r.card.gateway){const t=await async function(e,t){return await t({gateway:"quickpay",intent:{currency:Gt(e,"currency","USD"),order_id:Math.random().toString(36).substr(2,9)}})}(n,Wd(e).createIntent).catch(i);if(!t)return;if(t.error)return i(t.error);await Qf(e,Hd).update({billing:{method:"card",intent:{quickpay:{id:t}}}}),async function(e){const t=window.location.origin+window.location.pathname,r=await e({gateway:"quickpay",params:{action:"create",continueurl:`${t}?gateway=quickpay&redirect_status=succeeded`,cancelurl:`${t}?gateway=quickpay&redirect_status=canceled`}});r&&r.url&&window.location.replace(r.url)}(Wd(e).authorizeGateway).catch(i)}}else if(t.ideal&&r.ideal){if(r.card&&"stripe"===r.card.gateway&&Zd.stripe&&Gd.stripe){const{error:t,paymentMethod:r}=await async function(e,t,r={}){const n=Td(r);return await e.createPaymentMethod({type:"ideal",ideal:t,...n?{billing_details:n}:{}})}(Gd.stripe,Zd.stripe,n.billing);if(t)return i(t);const a=od(Gt(n,"currency","eur")),u=Md(a,o),c=Ef(await Wd(e).createIntent({gateway:"stripe",intent:{payment_method:r.id,amount:u,currency:a,payment_method_types:"ideal",confirmation_method:"manual",confirm:!0,return_url:window.location.href}}).catch(i));if(c)return await Qf(e,Hd).update({billing:{method:"ideal",ideal:{token:r.id},intent:{stripe:{id:c.id}}}}).catch(i),("requires_action"===c.status||"requires_source_action"===c.status)&&await Gd.stripe.handleCardAction(c.client_secret)}}else if(t.klarna&&r.klarna){if("klarna"===r.klarna.gateway){const t=await async function(e,t){const r=`${window.location.origin}${window.location.pathname}?gateway=klarna_direct&sid={{session_id}}`,n=`${r}&authorization_token={{authorization_token}}`;return t({gateway:"klarna",intent:{locale:e.display_locale||Gt(e,"settings.locale")||"en-US",purchase_country:Gt(e,"billing.country")||Gt(e,"shipping.country"),purchase_currency:e.currency,billing_address:qd(e,"billing"),shipping_address:qd(e,"shipping"),order_amount:Math.round(100*Gt(e,"grand_total",0)),order_lines:JSON.stringify(zd(e)),merchant_urls:{success:n,back:r,cancel:r,error:r,failure:r}}})}(n,Wd(e).createIntent).catch(i);return t&&window.location.replace(t.redirect_url)}if(r.card&&"stripe"===r.card.gateway){window.Stripe||await Jd("stripe-js","https://js.stripe.com/v3/");const{publishable_key:t}=r.card,o=window.Stripe(t),a=Ef(await ed(e,Hd).get()),{error:u,source:c}=await Ud(o,{...n,settings:a.store});return u?i(u):Qf(e,Hd).update({billing:{method:"klarna"}}).then((()=>window.location.replace(c.redirect.url))).catch(i)}}else if(t.bancontact&&r.bancontact){if(r.card&&"stripe"===r.card.gateway){window.Stripe||await Jd("stripe-js","https://js.stripe.com/v3/");const{publishable_key:t}=r.card,o=window.Stripe(t),{error:a,source:u}=await $d(o,n);return a?i(a):Qf(e,Hd).update({billing:{method:"bancontact"}}).then((()=>window.location.replace(u.redirect.url))).catch(i)}}else if(t.paysafecard&&r.paysafecard){const t=await async function(e,t){const r=`${window.location.origin+window.location.pathname}?gateway=paysafecard`;return await t({gateway:"paysafecard",intent:{type:"PAYSAFECARD",amount:e.grand_total,redirect:{success_url:r,failure_url:r},notification_url:r,customer:{id:Gt(e,"account.id")},currency:Gt(e,"currency","USD")}})}(n,Wd(e).createIntent).catch(i);if(!t)return;return await Qf(e,Hd).update({billing:{method:"paysafecard",intent:{paysafecard:{id:t.id}}}}),window.location.replace(t.redirect.auth_url)}}(e,t||this.params,n,r)},async handleRedirect(t){const r=Ef(await Qf(e,Hd).get());if(!r)throw new Error("Cart not found");return await async function(e,t,r){const n=e=>{const r=Gt(t,"card.onError")||Gt(t,"paysafecard.onError")||Gt(t,"klarna.onError");if(Ff(r))return r(e);throw new Error(e.message)},o=e=>{const r=Gt(t,"card.onSuccess")||Gt(t,"paysafecard.onSuccess")||Gt(t,"klarna.onSuccess");if(Ff(r))return r(e)},a=function(e){const t=window.location.search.substr(1),r={};return t.split("&").forEach((function(e){const t=e.split("=");r[t[0]]=decodeURIComponent(t[1])})),r}();!function(){const e=window.location.origin+window.location.pathname;window.history.pushState({path:e},"",e)}();const{gateway:i}=a;let u;return"quickpay"===i?u=await async function(e,t,r,n){const{redirect_status:o,card_id:a}=n;switch(o){case"succeeded":const t=await async function(e,t){return await t({gateway:"quickpay",params:{action:"get",id:e}})}(a,Wd(e).authorizeGateway);return t?t.error?t:(await Qf(e,Hd).update({billing:{method:"card",card:t}}),{success:!0}):void 0;case"canceled":return{error:{message:"We are unable to authenticate your payment method. Please choose a different payment method and try again."}};default:return{error:{message:`Unknown redirect status: ${o}.`}}}}(e,0,0,a):"paysafecard"===i?u=await async function(e,t){const r=Gt(t,"billing.intent.paysafecard.id");if(!r)return{error:{message:"Paysafecard payment ID not defined."}};const n=await Wd(e).updateIntent({gateway:"paysafecard",intent:{payment_id:r}});if(n)switch(n.status){case"AUTHORIZED":return{success:!0};case"CANCELED_CUSTOMER":return{error:{message:"We are unable to authenticate your payment method. Please choose a different payment method and try again."}};default:return{error:{message:`Unknown redirect status: ${n.status}.`}}}}(e,r):"klarna_direct"===i&&(u=await async function(e,t,r,n){const{authorization_token:o}=n;return o?(await Qf(e,Hd).update({billing:{method:"klarna",klarna:{token:o}}}),{success:!0}):{error:{message:"We are unable to authenticate your payment method. Please choose a different payment method and try again."}}}(e,0,0,a)),u?u.error?n(u.error):o(u):void 0}(e,t||this.params,r)},async authenticate(t){const r=await this.get(t);if(!r)throw new Error("Payment not found");const n=Ef(await ed(e,Hd).payments());if(n.error)throw new Error(n.error);return await async function(e,t,r){const{method:n,gateway:o}=t;if("card"===n){const n=r.card;if(n){if("stripe"===o&&"stripe"===n.gateway)return window.Stripe||await Jd("stripe-js","https://js.stripe.com/v3/"),async function(e,t,r){const{transaction_id:n,card:{token:o}={}}=t,{publishable_key:a}=r.card,i=await Wd(e,Hd).updateIntent({gateway:"stripe",intent:{id:n,payment_method:o}}).catch((e=>({error:e})));if(i.error)return i;const u=window.Stripe(a),c=await u.confirmCardPayment(i.client_secret);return c.error?{error:{message:c.error.message,code:c.error.code}}:{status:c.status}}(e,t,r)}else console.error("Authenticate error: credit card payments are disabled. See Payment settings in the Swell dashboard for details.")}}(e,r,n)},async createIntent(e){const t=await Tf("post","/intent",e);if(t.errors){const e=Object.keys(t.errors)[0],r=new Error(t.errors[e].message||"Unknown error");throw r.code="vault_error",r.status=402,r.param=e,r}return t},async updateIntent(e){const t=await Tf("put","/intent",e);if(t.errors){const e=Object.keys(t.errors)[0],r=new Error(t.errors[e].message||"Unknown error");throw r.code="vault_error",r.status=402,r.param=e,r}return t},async authorizeGateway(e){const t=await Tf("post","/authorization",e);if(t.errors){const e=Object.keys(t.errors)[0],r=new Error(t.errors[e].message||"Unknown error");throw r.code="vault_error",r.status=402,r.param=e,r}return t}}}const Jd=async(e,t)=>(Bd[e]=Bd[e]||new Promise((r=>{const n=document.createElement("script");n.id=e,n.src=t,n.async=!0,n.type="text/javascript",n.addEventListener("load",(()=>{r(),Bd[e]=null}),{once:!0}),document.head.appendChild(n)})),Bd[e]);async function Yd(e,t,r){const{publishable_key:n}=t.card,o=window.Stripe(n),a=o.elements(r.config),i=e=>{const t=Gt(r,`card[${e}]`)||r.card||r.ideal,n=t.options||{},o=a.create(e,n);o.mount(t.elementId||`#${e}-element`),t.onChange&&o.on("change",t.onChange),t.onReady&&o.on("ready",t.onReady),t.onFocus&&o.on("focus",t.onFocus),t.onBlur&&o.on("blur",t.onBlur),t.onEscape&&o.on("escape",t.onEscape),t.onClick&&o.on("click",t.onClick),"card"!==e&&"cardNumber"!==e&&"idealBank"!==e||(Zd.stripe=o)};Gd.stripe=o,r.ideal?i("idealBank"):r.card.separateElements?(i("cardNumber"),i("cardExpiry"),i("cardCvc")):i("card")}const Kd={};r(4301);const Xd={store:null,key:null,url:null,useCamelCase:null,previewContent:null},Qd={options:Xd,request:ep,init(e,t,r={}){Xd.key=t,Xd.store=e,Xd.url=r.url?If(r.url):`https://${e}.swell.store`,Xd.vaultUrl=r.vaultUrl?If(r.vaultUrl):"https://vault.schema.io",Xd.timeout=r.timeout&&parseInt(r.timeout,10)||2e4,Xd.useCamelCase=r.useCamelCase||!1,Xd.previewContent=r.previewContent||!1,Xd.session=r.session,Xd.locale=r.locale,Xd.currency=r.currency,Xd.api=Qd,xf=Xd},auth(...e){return this.init(...e)},get:(e,t)=>ep("get",e,t),put:(e,t)=>ep("put",e,t),post:(e,t)=>ep("post",e,t),delete:(e,t)=>ep("delete",e,t),cache:zf,card:$f,cart:Qf(ep,Xd),account:function(e){return{state:null,async requestStateChange(t,r,n,o){const a=await e(t,r,n,o);return a&&a.errors?a:this.state=a},get(e){return this.requestStateChange("get","/account",e)},create(e){return this.requestStateChange("post","/account",e)},update(e){return this.requestStateChange("put","/account",e)},login(e,t){return t&&t.password_token?this.requestStateChange("post","/account/login",{email:e,password_token:t.password_token}):this.requestStateChange("post","/account/login",{email:e,password:t})},logout(){return this.state=null,e("post","/account/logout")},recover:t=>e("post","/account/recover",t),listAddresses:t=>e("get","/account/addresses",t),createAddress:t=>e("post","/account/addresses",t),updateAddress:(t,r)=>e("put",`/account/addresses/${t}`,r),deleteAddress:t=>e("delete",`/account/addresses/${t}`),listCards:t=>e("get","/account/cards",t),createCard:t=>e("post","/account/cards",t),updateCard:(t,r)=>e("put",`/account/cards/${t}`,r),deleteCard:t=>e("delete",`/account/cards/${t}`),listOrders:t=>e("get","/account/orders",t),getOrder:t=>e("get",`/account/orders/${t}`),getAddresses:t=>e("get","/account/addresses",t),getCards:t=>e("get","/account/cards",t),getOrders:t=>e("get","/account/orders",t)}}(ep),products:function(e,t){Zf=t;const{get:r,list:n}=Df(e,"/products",["list","get"]);return{get:(e,...t)=>zf.getFetch("products",e,(()=>r(e,...t))),list:n,variation:Hf,categories:Yf,attributes:Kf,priceRange:Xf,filters:Jf,filterableAttributeFilters:(t,r)=>async function(e,t,r){const{results:n}=await Bf(e).list({filterable:!0});return Jf(t,{...r,filterableAttributes:n})}(e,t,r)}}(ep,Xd),categories:function(e){const{get:t,list:r}=Df(e,"/categories",["list","get"]);return{get:(e,...r)=>zf.getFetch("categories",e,(()=>t(e,...r))),list:r}}(ep),attributes:Bf(ep),subscriptions:function(e){const{get:t,list:r}=Df(e,"/subscriptions",["list","get"]);return{get:(e,...r)=>zf.getFetch("subscriptions",e,(()=>t(e,...r))),list:r,getCleanData:e=>(e&&e.options&&(e.options=Gf(e.options)),e.items&&e.items.map&&(e.items=e.items.map((e=>(e.options&&(e.options=Gf(e.options)),e)))),e),create(t){return e("post","/subscriptions",this.getCleanData(t))},update(t,r){return e("put",`/subscriptions/${t}`,this.getCleanData(r))},addItem(t,r){return e("post",`/subscriptions/${t}/items`,this.getCleanData(r))},setItems(t,r){return r&&r.map&&(r=r.map(this.getCleanData)),e("put",`/subscriptions/${t}/items`,r)},updateItem(t,r,n){return e("put",`/subscriptions/${t}/items/${r}`,this.getCleanData(n))},removeItem:(t,r)=>e("delete",`/subscriptions/${t}/items/${r}`)}}(ep),content:function(e,t){return{get:(r,n,o)=>zf.getFetch(`content_${r}`,n,(()=>e("get",`/content/${r}`,n,{$preview:t.previewContent,...o||{}}))),list:(t,r)=>e("get",`/content/${t}`,void 0,r)}}(ep,Xd),settings:ed(ep,Xd),payment:Wd(ep,Xd),locale:function(e,t){return{code:null,state:null,list:()=>t.api.settings.get("store.locales",[]),async select(r){return this.set(r),Nf("swell-locale",r),t.api.settings.locale=r,await e("put","/session",{locale:r})},selected(){if(this.code)return this.code;const e=t.api.settings.getStoreLocale(),r=Mf("swell-locale");return t.api.settings.locale=r||e,r||e},get(){return this.code||(this.code=this.selected()),this.state||(this.state=this.set(this.code)),this.state},set(e){return this.code=e,this.state=ti(this.list(),{code:e})||{},this.state}}}(ep,Xd),currency:function(e,t){return{code:null,state:null,locale:null,list:()=>t.api.settings.get("store.currencies",[]),async select(t){return this.set(t),e("put","/session",{currency:t})},selected(){return this.code||this.set(Mf("swell-currency")||t.api.settings.get("store.currency")),this.code},get(){return this.code||(this.code=this.selected()),this.state||(this.state=this.set(this.code)),this.state},set(e="USD"){return this.code=e,this.state=ti(this.list(),{code:e})||{code:e},this.locale=String(t.api.settings.get("store.locale","object"==typeof navigator?navigator.language:"en-US")),Nf("swell-currency",e),this.state},format(e,t={}){let r=this.get();if(t.code&&t.code!==r.code){const e=this.list();r=ti(e,{code:t.code})||{code:t.code}}const{code:n="USD",type:o,decimals:a,rate:i}=r,u=t.code||n,c=t.rate||i,s=t.locale||this.locale,l="number"==typeof t.decimals?t.decimals:a,{convert:f=!0}=t;let d=e;f&&("display"===o||t.rate)&&"number"==typeof d&&"number"==typeof c&&(d=this.applyRounding(e*c,r));const p=this.formatter({code:u,locale:s,decimals:l});try{if("number"==typeof d)return p.format(d);{const e=Gt(p.formatToParts(0),"0.value","$");return e!==u?e:""}}catch(e){console.warn(e)}return String(e)},formatter({code:e,locale:t,decimals:r}){const n=[e,t=String(t||"").replace("_","-"),r].join("|");if(Kd[n])return Kd[n];const o=[];t&&o.push(t),o.push("en-US");const a="number"==typeof r?r:void 0,i={style:"currency",currency:e,currencyDisplay:"symbol",minimumFractionDigits:a,maximumFractionDigits:a};try{try{Kd[n]=new Intl.NumberFormat(o,i)}catch(e){e.message.indexOf("Invalid language tag")>=0&&(Kd[n]=new Intl.NumberFormat("en-US",i))}}catch(e){console.warn(e)}return Kd[n]},applyRounding(e,t){if(!t||!t.round)return e;const r=t.decimals,n="fraction"===t.round_interval&&t.round_fraction||0;let o=~~e,a=this.round(e,r);if(a===n)return o+a;const i=this.round(a-n,1);return o="down"===("nearest"===t.round?i>0?i>=.5?"up":"down":i<=-.5?"down":"up":t.round)?o+n-(a>n?0:1):o+n+(a>n?1:0),this.round(o,r)},round:ci}}(ep,Xd)};async function ep(e,t,r,o,a){const i={...Xd,...a},u=i.session||Mf("swell-session"),c=i.locale||Mf("swell-locale"),s=i.currency||Mf("swell-currency"),l=`${i.url}${i.base||""}/api`,f=String(e).toLowerCase();let d=t,p=r;var h;let y;if(void 0===o&&"string"!=typeof r||(d=[If(t),Af(r)].join("/"),p=o),d=i.fullUrl||`${l}/${h=d,Af(If(h))}`,p=i.useCamelCase?Ef(p):p,"get"===f){let e;[d,e]=d.split("?");const t=[e,Pf(p)].join("&").replace(/^&/,"");d=`${d}${t?`?${t}`:""}`}else y=JSON.stringify(p);const v={Accept:"application/json","Content-Type":"application/json",Authorization:`Basic ${m=String(i.key),"undefined"!=typeof btoa?btoa(m):n.from(m).toString("base64")}`};var m;u&&(v["X-Session"]=u),c&&(v["X-Locale"]=c),s&&(v["X-Currency"]=s);const g=await fetch(d,{method:f,headers:v,body:y,credentials:"include",mode:"cors"}),b=g.headers.get("X-Session");"string"==typeof b&&u!==b&&Nf("swell-session",b);const w=await g.json();if(w&&w.error){const e=new Error(w.error.message);throw e.status=g.status,e.code=w.error.code,e.param=w.error.param,e}if(!g.ok){const e=new Error("A connection error occurred while making the request");throw e.code="connection_error",e}return Xd.useCamelCase?Sf(w):w}return"undefined"!=typeof window&&(window.swell={version:"@VERSION@"}),Qd}()},943:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},3375:function(e,t,r){"use strict";function n(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,{Z:function(){return n}})},9396:function(e,t,r){"use strict";function n(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}r.d(t,{Z:function(){return n}})},9534:function(e,t,r){"use strict";function n(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}r.d(t,{Z:function(){return n}})},828:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3375);var o=r(1566);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||(0,n.Z)(e,t)||(0,o.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9815:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(943);var o=r(3375);var a=r(1566);function i(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||(0,o.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1566:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(943);function o(e,t){if(e){if("string"===typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}},1955:function(e,t){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var n=function e(t,n){function o(e,o,a){if("undefined"!==typeof document){"number"===typeof(a=r({},n,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var u in a)a[u]&&(i+="; "+u,!0!==a[u]&&(i+="="+a[u].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+i}}return Object.create({set:o,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var a=r[o].split("="),i=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(n[u]=t.read(i,u),e===u)break}catch(c){}}return e?n[e]:n}},remove:function(e,t){o(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});t.Z=n}}]);